(this["webpackJsonpcfr-frontend"]=this["webpackJsonpcfr-frontend"]||[]).push([[0],{57:function(e,t,c){},74:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(1),a=c.n(r),s=c(25),i=c.n(s),o=(c(57),c(3)),l=c.n(o),u=c(5),d=c(4),j=Object(r.createContext)(),b=c(6),p=c(8),h=c(7),O=c(12),x=c(11),v=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL||"http://localhost:8080",f="user/authentication/token",m="user/authentication/SET_TOKEN",g="user/authentication/REMOVE_TOKEN",y="user/authentication/SET_AVATAR",w="user/authentication/REMOVE_AVATAR",k="user/authentication/SET_USER_NAME",S="user/authentication/REMOVE_USER_NAME",L="user/authentication/SET_USER_EMAIL",C="user/authentication/REMOVE_USER_EMAIL",R="user/authentication/SET_USER_ID",N="user/authentication/REMOVE_USER_ID",A="user/authentication/SET_BADGE_COUNT",I="user/authentication/REMOVE_BADGE_COUNT",D=function(e){return{type:g}},T=function(e){return{type:m,token:e}},E=function(e){return{type:y,avatarURL:e}},U=function(e){return{type:k,name:e}},F=function(e){return{type:R,id:e}},P=function(e){return{type:A,count:e}},_=function(){var e=Object(u.a)(l.a.mark((function e(t){var c,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/users/avatarURL/").concat(t));case 2:if(!(c=e.sent).ok){e.next=8;break}return e.next=6,c.json();case 6:return n=e.sent,e.abrupt("return",n.avatarURL);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(u.a)(l.a.mark((function e(t){var c,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/users/userName/").concat(t));case 2:if(!(c=e.sent).ok){e.next=8;break}return e.next=6,c.json();case 6:return n=e.sent,e.abrupt("return",n.userName);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var B=function(){var e=Object(u.a)(l.a.mark((function e(t){var c,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/carts/cartItemCount/").concat(t),{method:"get",headers:{"Content-Type":"application/json"}});case 2:if(!(c=e.sent).ok){e.next=10;break}return e.next=6,c.json();case 6:return n=e.sent,e.abrupt("return",n.cartItems);case 10:return e.abrupt("return",0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(e){var t=Object(r.useState)(""),c=Object(d.a)(t,2),a=c[0],s=c[1],i=Object(r.useState)(""),o=Object(d.a)(i,2),j=o[0],b=o[1],p=Object(r.useState)(""),x=Object(d.a)(p,2),m=x[0],g=x[1],y=Object(r.useState)(""),w=Object(d.a)(y,2),k=w[0],S=w[1],L=Object(r.useState)(""),C=Object(d.a)(L,2),R=C[0],N=C[1],A=Object(r.useState)(""),I=Object(d.a)(A,2),D=I[0],P=I[1],_=Object(h.b)(),z=function(){var e=Object(u.a)(l.a.mark((function e(t){var c,n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("".concat(v,"/users/"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:R,emailAddress:j,password:m,confirmPassword:k,avatarURL:D})});case 3:if(!(c=e.sent).ok){e.next=16;break}return e.next=7,c.json();case 7:n=e.sent,r=n.token,a=n.user,window.localStorage.setItem(f,r),_(T(r)),_(U(a.name.split(" ")[0])),_(F(a.id)),_(E(""===D?"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png":D)),s(r);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a?Object(n.jsx)(O.a,{to:"/"}):Object(n.jsx)("div",{children:Object(n.jsxs)("form",{className:"signUpForm",onSubmit:z,children:[Object(n.jsxs)("div",{className:"signUpInput",children:[Object(n.jsx)("div",{className:"signUpLabel",children:Object(n.jsx)("label",{children:"Name "})}),Object(n.jsx)("input",{className:"inputBox",type:"text",placeholder:"First and Last Name",value:R,onChange:function(e){N(e.target.value)}})]}),Object(n.jsxs)("div",{className:"signUpInput",children:[Object(n.jsx)("div",{className:"signUpLabel",children:Object(n.jsx)("label",{children:"Email:"})}),Object(n.jsx)("input",{className:"inputBox",type:"email",placeholder:"Email address",value:j,onChange:function(e){b(e.target.value)}})]}),Object(n.jsxs)("div",{className:"signUpInput",children:[Object(n.jsx)("div",{className:"signUpLabel",children:Object(n.jsx)("label",{children:"Avatar URL"})}),Object(n.jsx)("input",{className:"inputBox",type:"text",placeholder:"Avatar URL (optional)",value:D,onChange:function(e){P(e.target.value)}})]}),Object(n.jsxs)("div",{className:"signUpInput",children:[Object(n.jsx)("div",{className:"signUpLabel",children:Object(n.jsx)("label",{children:"Password:"})}),Object(n.jsx)("input",{className:"inputBox",type:"password",placeholder:"Password",value:m,onChange:function(e){g(e.target.value)}})]}),Object(n.jsxs)("div",{className:"signUpInput",children:[Object(n.jsx)("div",{className:"signUpLabel",children:Object(n.jsx)("label",{children:"Password:"})}),Object(n.jsx)("input",{className:"inputBox",type:"password",placeholder:"Confirm Password",value:k,onChange:function(e){S(e.target.value)}})]}),Object(n.jsx)("button",{style:{border:"2px solid black"},type:"submit",children:"Sign Up"})]})})},G=function(e){var t=Object(r.useState)(""),c=Object(d.a)(t,2),a=c[0],s=c[1],i=Object(r.useState)(""),o=Object(d.a)(i,2),j=o[0],b=o[1],p=Object(r.useState)(""),x=Object(d.a)(p,2),m=x[0],g=x[1],y=Object(h.b)(),w=function(){var e=Object(u.a)(l.a.mark((function e(t){var c,n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s("demouser@demouser.com"),b("password"),t.preventDefault(),e.next=5,fetch("".concat(v,"/users/login"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailAddress:"demouser@demouser.com",password:"password"})});case 5:if(!(c=e.sent).ok){e.next=19;break}return e.next=9,c.json();case 9:n=e.sent,r=n.token,a=n.user,window.localStorage.setItem(f,r),window.localStorage.setItem("userId",a.id),y(T(r)),y(U(a.name.split(" ")[0])),y(E(a.avatarURL)),y(F(a.id)),g(r);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(l.a.mark((function e(t){var c,n,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("".concat(v,"/users/login"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailAddress:a,password:j})});case 3:if(!(c=e.sent).ok){e.next=16;break}return e.next=7,c.json();case 7:n=e.sent,r=n.token,s=n.user,window.localStorage.setItem(f,r),y(T(r)),y(U(s.name.split(" ")[0])),y(E(s.avatarURL)),y(F(s.id)),g(r);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return m?Object(n.jsx)(O.a,{to:"/"}):Object(n.jsx)("div",{children:Object(n.jsxs)("form",{className:"loginForm",children:[Object(n.jsxs)("div",{className:"loginInput",children:[Object(n.jsx)("div",{children:Object(n.jsx)("label",{children:"Email :           "})}),Object(n.jsx)("input",{className:"inputBox",type:"email",placeholder:"Email",value:a,onChange:function(e){s(e.target.value)}})]}),Object(n.jsxs)("div",{className:"loginInput",children:[Object(n.jsx)("div",{children:Object(n.jsx)("label",{children:"Password : "})}),Object(n.jsx)("input",{className:"inputBox",type:"password",placeholder:"Password",value:j,onChange:function(e){b(e.target.value)}})]}),Object(n.jsx)("button",{style:{width:"100px",backgroundColor:"white",color:"grey",borderColor:"black"},onClick:k,children:"Login"}),Object(n.jsx)("button",{style:{width:"100px",backgroundColor:"white",color:"grey",borderColor:"black"},onClick:w,children:"Login Demo"})]})})},V=c(32),J=c(42),$=function(e){var t=e.productDetail,c=Object(r.useState)(void 0),a=Object(d.a)(c,2),s=a[0],i=a[1],o=Object(r.useState)(void 0),j=Object(d.a)(o,2),b=j[0],p=j[1],x=Object(r.useState)(void 0),f=Object(d.a)(x,2),m=f[0],g=f[1],y=Object(r.useState)(void 0),w=Object(d.a)(y,2),k=w[0],S=w[1],L=Object(r.useState)(void 0),C=Object(d.a)(L,2),R=C[0],N=C[1],A=Object(r.useState)(void 0),I=Object(d.a)(A,2),D=I[0],T=I[1],E=Object(r.useState)(void 0),U=Object(d.a)(E,2),F=U[0],_=U[1],z=Object(r.useState)(void 0),B=Object(d.a)(z,2),M=B[0],G=B[1],$=Object(r.useState)(void 0),K=Object(d.a)($,2),W=K[0],H=K[1],Y=Object(h.c)((function(e){return e.authentication.userId})),q=Object(r.useState)(""),X=Object(d.a)(q,2),Q=X[0],Z=X[1],ee=Object(O.g)(),te=Object(h.b)(),ce=Object(r.useState)(!1),ne=Object(d.a)(ce,2),re=ne[0],ae=ne[1];Object(r.useEffect)((function(){t.colorsAvail&&t.colorsAvail.length>1?p(t.colorsAvail):t.colorsAvail&&1===t.colorsAvail.length&&(p([t.colorsAvail[0]]),_(t.colorsAvail[0].value)),t.framesAvail&&t.framesAvail.length>1?S(t.framesAvail):t.framesAvail&&1===t.framesAvail.length&&(S([t.framesAvail[0]]),H(t.framesAvail[0].value)),t.gendersAvail&&t.gendersAvail.length>1?g(t.gendersAvail):t.gendersAvail&&1===t.gendersAvail.length&&(g([t.gendersAvail[0]]),G(t.gendersAvail[0].value)),t.sizesAvail&&t.sizesAvail.length>1?i(t.sizesAvail):t.sizesAvail&&1===t.sizesAvail.length&&(i([t.sizesAvail[0]]),T(t.sizesAvail[0].value)),N(t.inventoryAvail)}),[t]);var se=function(e,t){for(var c=0;c<t.length;c++)if(t[c].value===e.value)return!0;return!1},ie=function(e){return function(t){switch(e){case"color":_(t.value);break;case"size":T(t.value);break;case"gender":G(t.value);break;case"frame":H(t.value)}var c=function(e){for(var t=[],c=0;c<R.length;c++)R[c].color&&F&&R[c].color!==F||R[c].size&&D&&R[c].size!==D||R[c].gender&&M&&R[c].gender!==M||R[c].frames&&W&&R[c].frames!==W||t.push(R[c]);return t}();N(c),function(e){for(var t,c,n,r,a=[],s=[],o=[],l=[],u=0;u<e.length;u++)e[u].size&&(t={value:e[u].size,label:e[u].size,isdisabled:!1}),e[u].color&&(c={value:e[u].color,label:e[u].color,isdisabled:!1}),e[u].frame&&(n={value:e[u].frame,label:e[u].frame,isdisabled:!1}),e[u].gender&&(r={value:e[u].gender,label:e[u].gender,isdisabled:!1}),e[u].size&&!se(t,a)&&a.push(t),e[u].color&&!se(c,o)&&o.push(c),e[u].frame&&!se(n,l)&&l.push(n),e[u].gender&&!se(r,s)&&s.push(r);a.length>0?i(a):i([]),s.length>0?g(s):g([]),o.length>0?p(o):p([]),l.length>0?S(l):S([])}(c)}},oe=function(){for(var e=0;e<R.length;e++)if((!D||R[e].size===D)&&(!F||R[e].color===F)&&(!W||R[e].frame===W)&&(!M||R[e].gender===M))return R[e].inventoryId},le=function(){var e=Object(u.a)(l.a.mark((function e(t){var c,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),b&&b.length>1&&!F&&Z((function(e){return e+"No color specified.  "})),s&&s.length>1&&!D&&Z((function(e){return e+"No size selected.  "})),m&&m.length>1&&!M&&Z((function(e){return e+"Select M/F. "})),k&&k.length>1&&!W&&Z((function(e){return e+"No frame selected. "})),""!==Q){e.next=18;break}if(!(c=oe())||!Y){e.next=16;break}return e.next=7,fetch("".concat(v,"/carts"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:Y,inventoryId:c,quantity:"1"})});case 7:if(!(n=e.sent).ok){e.next=14;break}return e.next=11,n.json();case 11:r=e.sent,te(P(r.cartItems)),ae(!0);case 14:e.next=16;break;case 16:e.next=19;break;case 18:setTimeout((function(){Z("")}),5e3);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return re?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h2",{children:"This item has been added to your cart!"}),Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)(J.a,{size:"lg",style:{marginTop:"0px",height:"45px",width:"100px",marginRight:"30px"},variant:"outline-success",onClick:function(){ee.push("/products")},children:"Continue Shopping"}),Object(n.jsx)(J.a,{size:"lg",style:{marginTop:"0px",height:"45px",width:"100px"},variant:"outline-success",onClick:function(){ee.push("/cartForm")},children:"Go to My Cart"})]})]}):t.productId&&R?Object(n.jsxs)(n.Fragment,{children:[Q?Object(n.jsx)("div",{style:{backgroundColor:"red",color:"white"},children:Q}):null,R&&R.length>0?Object(n.jsxs)("form",{onSubmit:le,children:[Object(n.jsxs)("div",{style:{marginTop:"10px"},children:[s&&s.length>1?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{style:{marginRight:"10px"},children:"Size:"}),Object(n.jsx)(V.a,{options:s,onChange:ie("size"),isSearchable:!0})]}):null,s&&1===s.length?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{style:{marginRight:"10px"},children:"Size:"}),Object(n.jsxs)("label",{style:{marginRight:"10px"},children:[" ",s[0].value]})]}):null]}),Object(n.jsxs)("div",{style:{marginTop:"10px"},children:[b&&b.length>1?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{style:{marginRight:"10px"},children:"Color:"}),Object(n.jsx)(V.a,{options:b,onChange:ie("color"),isSearchable:!0})]}):null,b&&1===b.length?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{style:{marginRight:"10px"},children:"Color:"}),Object(n.jsxs)("label",{style:{marginRight:"10px"},children:[" ",b[0].value]})]}):null]}),Object(n.jsxs)("div",{style:{marginTop:"10px"},children:[k&&k.length>1?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{style:{marginRight:"10px"},children:"Frame:"}),Object(n.jsx)(V.a,{options:k,onChange:ie("frame")})]}):null,k&&1===k.length?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{style:{marginRight:"10px"},children:"Frame:"}),Object(n.jsxs)("label",{style:{marginRight:"10px"},children:[" ",k[0].value]})]}):null]}),Object(n.jsxs)("div",{style:{marginTop:"10px"},children:[m&&m.length>1?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{style:{marginRight:"10px"},children:"Gender:"}),Object(n.jsx)(V.a,{options:m,onChange:ie("gender"),isSearchable:!0})]}):null,m&&1===m.length?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{style:{marginRight:"10px"},children:"Gender:"}),Object(n.jsxs)("label",{style:{marginRight:"10px"},children:[" ",m[0].value]})]}):null]}),Object(n.jsx)("input",{style:{display:"block",marginTop:"15px"},type:"submit",value:"Add To Cart"})]}):Object(n.jsx)("h4",{children:"Temporarily out of stock"})]}):Object(n.jsx)("h2",{children:"Loading..."})},K=function(e){var t=e.review,c=Object(r.useState)([]),a=Object(d.a)(c,2),s=a[0],i=a[1];return Object(r.useEffect)((function(){for(var e=[],c=0;c<t.rating;c++)e.push(Object(n.jsx)("i",{className:"fas fa-star"}));i(e)}),[t.rating]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{src:t.avatarURL,alt:"Avatar",style:{height:"60px",width:"60px",borderRadius:"40px",backgroundColor:"none"}}),Object(n.jsxs)("p",{style:{display:"inline-block"},children:[t.name,",    ",t.postDate]}),Object(n.jsx)("p",{children:s})]}),Object(n.jsx)("div",{style:{borderBottom:"2px solid grey"},children:Object(n.jsx)("p",{children:t.review})})]})},W=function(e){var t=e.productDetail,c=e.productId,a=Object(O.g)(),s=Object(r.useState)(""),i=Object(d.a)(s,2),o=i[0],j=i[1],b=Object(r.useState)(!1),p=Object(d.a)(b,2),x=p[0],f=p[1],m=Object(r.useState)(!1),g=Object(d.a)(m,2),y=g[0],w=g[1],k=Object(r.useState)(!1),S=Object(d.a)(k,2),L=S[0],C=S[1],R=Object(r.useState)(!1),N=Object(d.a)(R,2),A=N[0],I=N[1],D=Object(r.useState)(!1),T=Object(d.a)(D,2),E=T[0],U=T[1],F=Object(r.useState)(),P=Object(d.a)(F,2),_=P[0],z=P[1],B=Object(r.useState)(0),M=Object(d.a)(B,2),G=M[0],V=M[1],J=Object(h.c)((function(e){return e.authentication.userId}));return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{style:{borderTop:"2px solid grey",display:"inline-block",width:"60%"},children:Object(n.jsxs)("div",{style:{display:"block"},children:[Object(n.jsx)("h2",{children:"Add your review: "}),Object(n.jsx)("h4",{children:"Rate this product:"}),Object(n.jsxs)("h2",{onClick:function(e){var t=0;switch(e.target.id){case"star1":t=x?0:1,f(!x),w(!1),C(!1),I(!1),U(!1);break;case"star2":t=y?0:2,w(!y),f(!y),C(!1),I(!1),U(!1);break;case"star3":t=L?0:3,C(!L),w(!L),f(!L),I(!1),U(!1);break;case"star4":t=A?0:4,I(!A),C(!A),w(!A),f(!A),U(!1);break;case"star5":t=E?0:5,U(!E),I(!E),C(!E),w(!E),f(!E)}V(t)},children:[x?Object(n.jsx)("a",{children:Object(n.jsx)("i",{id:"star1",className:"fas fa-star"})}):Object(n.jsx)("a",{children:Object(n.jsx)("i",{id:"star1",className:"far fa-star"})}),y?Object(n.jsx)("a",{children:Object(n.jsx)("i",{id:"star2",className:"fas fa-star"})}):Object(n.jsx)("a",{children:Object(n.jsx)("i",{id:"star2",className:"far fa-star"})}),L?Object(n.jsx)("a",{children:Object(n.jsx)("i",{id:"star3",className:"fas fa-star"})}):Object(n.jsx)("a",{children:Object(n.jsx)("i",{id:"star3",className:"far fa-star"})}),A?Object(n.jsx)("a",{children:Object(n.jsx)("i",{id:"star4",className:"fas fa-star"})}):Object(n.jsx)("a",{children:Object(n.jsx)("i",{id:"star4",className:"far fa-star"})}),E?Object(n.jsx)("a",{children:Object(n.jsx)("i",{id:"star5",className:"fas fa-star"})}):Object(n.jsx)("a",{children:Object(n.jsx)("i",{id:"star5",className:"far fa-star"})})]}),Object(n.jsx)("div",{style:{borderTop:"2px solid grey",display:"inline-block",width:"60%"}}),_?Object(n.jsx)("div",{style:{width:"81%",backgroundColor:"red",color:"white"},children:_}):null,Object(n.jsxs)("form",{style:{display:"flex"},children:[Object(n.jsx)("textarea",{style:{width:"80%"},value:o,placeholder:"Tell us what you like about this product ...",id:"review",name:"review",rows:"10",onChange:function(e){j(e.target.value)}}),Object(n.jsx)("button",{style:{marginLeft:"20px"},id:"Submit",onClick:function(e){e.preventDefault(),Object(u.a)(l.a.mark((function e(){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/reviewsRatings/reviews/").concat(c),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:J,rating:G,review:o})});case 2:if(!(n=e.sent).ok){e.next=15;break}z(""),j(""),V(0),f(!1),w(!1),C(!1),I(!1),U(!1),a.push({pathname:"/productDetail",state:{props:t}}),e.next=20;break;case 15:return e.next=17,n.json();case 17:r=e.sent,z(r),console.log("ProductReviewInput: Failed to post review ...");case 20:case"end":return e.stop()}}),e)})))()},children:"Submit"})]})]})})})},H=function(e){var t=e.productDetail,c=e.productRating,a=(e.productPrice,Object(r.useState)([])),s=Object(d.a)(a,2),i=s[0],o=s[1];return Object(r.useEffect)((function(){for(var e=[],t=0;t<c;t++)e.push(Object(n.jsx)("i",{className:"fas fa-star"}));o(e)}),[c]),Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:t.productName}),Object(n.jsx)("p",{children:i}),Object(n.jsx)("p",{children:t.description}),Object(n.jsxs)("p",{children:["Price:  $",t.price]})]})},Y=function(){return Object(n.jsx)("div",{children:Object(n.jsx)("h3",{children:"Wish to leave a review?  Login or Signup for an account!"})})},q=function(e){var t=e.detail,c=e.userPosted,r=e.userReviews,a=e.productRating,s=Object(h.c)((function(e){return e.authentication.userId}));return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{style:{display:"flex",height:"auto"},children:[Object(n.jsxs)("div",{className:"productDetail",style:{width:"60%"},children:[Object(n.jsx)("img",{src:t.photoURL,style:{height:"400px"},alt:"product detail"}),Object(n.jsx)("h2",{children:"Product Reviews:  "}),r&&r.length>0?r.map((function(e,c){return Object(n.jsx)(K,{productId:t.id,review:e},c)})):Object(n.jsx)("h4",{children:"Be the first to write a review!"})]}),Object(n.jsxs)("div",{className:"productOrder",style:{display:"inline-block",width:"30%"},children:[Object(n.jsx)(H,{productDetail:t,productRating:a,productPrice:t.productPrice}),s?Object(n.jsx)($,{productDetail:t}):Object(n.jsx)("div",{children:Object(n.jsx)("b",{children:"To order a product, please log in."})})]})]}),s&&!c?Object(n.jsx)(W,{productDetail:t,productId:t.id}):null,s?null:Object(n.jsx)(Y,{})]})},X=c(14),Q=function(e){var t=Object(h.c)((function(e){return e.bicycles.bicycleList})),c=Object(h.c)((function(e){return e.accessories.accessoryList})),a=Object(h.c)((function(e){return e.clothing.clothingList})),s=Object(r.useState)(""),i=Object(d.a)(s,2),o=i[0],l=i[1],u=[],j="";switch(e.category){case"Bicycles":u=e.limit>0&&void 0!==t?t.slice(0,e.limit):t,j="bicycle";break;case"Accessories":u=e.limit>0&&void 0!==c?c.slice(0,e.limit):c,j="accessory";break;case"Clothing":u=e.limit>0&&void 0!==a?a.slice(0,e.limit):a,j="clothing";break;default:return}if(void 0===u)return null;if(!o)return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"productGrid",onClick:function(e){var t=e.target.id.split("-")[1];l(u[t])},children:[Object(n.jsxs)(x.b,{className:"productItem",to:"/".concat(j,"Detail/").concat(u[0].id),children:[Object(n.jsx)("img",{id:"".concat(j,"-0"),src:u[0].photoURL,alt:e.category}),Object(n.jsx)(X.a.Caption,{children:u[0].name})]},u[0].id),Object(n.jsxs)(x.b,{className:"productItem",to:"/".concat(j,"Detail/").concat(u[1].id),children:[Object(n.jsx)("img",{id:"".concat(j,"-1"),src:u[1].photoURL,alt:e.category}),Object(n.jsx)(X.a.Caption,{children:u[1].name})]},u[1].id),Object(n.jsxs)(x.b,{className:"productItem",to:"/".concat(j,"Detail/").concat(u[2].id),children:[Object(n.jsx)("img",{id:"".concat(j,"-2"),src:u[2].photoURL,alt:e.category}),Object(n.jsx)(X.a.Caption,{children:u[2].name})]},u[2].id),Object(n.jsxs)(x.b,{className:"productItem",to:"/".concat(j,"Detail/").concat(u[3].id),children:[Object(n.jsx)("img",{id:"".concat(j,"-3"),src:u[3].photoURL,alt:e.category}),Object(n.jsx)(X.a.Caption,{children:u[3].name})]},u[3].id),Object(n.jsxs)(x.b,{className:"productItem",to:"/".concat(j,"Detail/").concat(u[4].id),children:[Object(n.jsx)("img",{id:"".concat(j,"-4"),src:u[4].photoURL,alt:e.category}),Object(n.jsx)(X.a.Caption,{children:u[4].name})]},u[4].id)]})})});switch(j){case"Bicycles":return Object(n.jsx)(O.a,{to:{pathname:"/bicycleDetail/productDetail.id"}});case"Clothing":return Object(n.jsx)(O.a,{to:{pathname:"/clothingDetail/productDetail.id"}});case"Accessories":return Object(n.jsx)(O.a,{to:{pathname:"/accessoryDetail/productDetail.id"}})}},Z="products/selected/inventoryAvail",ee="products/selected/selectedProduct",te="products/selected/selectedProductType",ce="products/selected/selectedProductId",ne="products/selected/colorsAvail",re="products/selected/framesAvail",ae="products/selected/sizesAvail",se="products/selected/gendersAvail",ie="products/selected/name",oe="products/selected/price",le="products/selected/description",ue="products/selected/photoURL",de=function(e){return{type:te,productType:e}};var je=function(e,t){for(var c=0;c<t.length;c++)if(t[c].value===e.value)return!0;return!1},be=function(){var e=Object(u.a)(l.a.mark((function e(t){var c,n,r,a,s,i,o,u,d,j,b,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/inventory/").concat(t),{method:"get",headers:{"Content-Type":"application/json"}});case 2:if(!(c=e.sent).ok){e.next=16;break}return e.next=6,c.json();case 6:for(n=e.sent,r=n.productInfo,a=[],s=[],i=[],o=[],u=0;u<r.length;u++)r[u].size&&(d={value:r[u].size,label:r[u].size,isdisabled:!1},je(d,a)||a.push(d)),r[u].color&&(j={value:r[u].color,label:r[u].color,isdisabled:!1},je(j,s)||s.push(j)),r[u].frame&&(b={value:r[u].frame,label:r[u].frame,isdisabled:!1},je(b,o)||o.push(b)),r[u].gender&&(p={value:r[u].gender,label:r[u].gender,isdisabled:!1},je(p,i)||i.push(p));return e.abrupt("return",{type:n.type,productId:t,colorsAvail:s,sizesAvail:a,framesAvail:o,gendersAvail:i,productName:n.name,photoURL:n.photoURL,price:n.price,description:n.description,inventoryAvail:n.productInfo});case 16:return e.abrupt("return",c.status);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(r.useState)(),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(r.useState)(),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(r.useState)(),j=Object(d.a)(u,2),b=j[0],p=j[1],x=Object(h.c)((function(e){return e.accessories.accessoryList})),v=Object(h.c)((function(e){return e.bicycles.bicycleList})),f=Object(h.c)((function(e){return e.clothing.clothingList})),m=Object(h.c)((function(e){return e.selectedProduct.productType})),g=Object(O.g)(),y=Object(h.b)();Object(r.useEffect)((function(){v&&a(v[0].photoURL),x&&p(x[0].photoURL),f&&l(f[0].photoURL)}),[v,x,f,m]);var w=function(e){switch(y(de(e.target.id)),e.target.id){case"Bicycles":g.push({pathname:"/bicycleProducts"});break;case"Clothing":g.push({pathname:"/clothingProducts"});break;case"Accessories":g.push({pathname:"/accessoryProducts"})}};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"productBanner",children:Object(n.jsxs)("div",{className:"photoSpread",children:[Object(n.jsxs)("div",{className:"productPhoto",onClick:w,children:[Object(n.jsx)("img",{id:"Bicycles",src:c,alt:"Bicycle"}),Object(n.jsx)(X.a.Caption,{children:"Bicycles"})]}),Object(n.jsxs)("div",{className:"productPhoto",onClick:w,children:[Object(n.jsx)("img",{id:"Clothing",src:o,alt:"Clothing"}),Object(n.jsx)(X.a.Caption,{children:"Clothing"})]}),Object(n.jsxs)("div",{className:"productPhoto",onClick:w,children:[Object(n.jsx)("img",{id:"Accessories",src:b,alt:"Accessory"}),Object(n.jsx)(X.a.Caption,{children:"Accessories"})]})]})}),Object(n.jsx)("h2",{style:{color:"white"},children:"Recommended in Bicycles"}),Object(n.jsx)(Q,{category:"Bicycles",limit:5,children:" "}),Object(n.jsx)("h2",{style:{color:"white"},children:"Recommended in Clothing"}),Object(n.jsx)(Q,{category:"Clothing",limit:5,children:" "}),Object(n.jsx)("h2",{style:{color:"white"},children:"Recommended in Accessories"}),Object(n.jsx)(Q,{category:"Accessories",limit:5})]})},he="products/accessory/accessoryList",Oe="products/accessory/accessoryDetail",xe="products/accessory/accessoryLoaded",ve="products/accessory/accessoryURL";var fe=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(v,"/accessories/accessoriesList"),{method:"get",headers:{"Content-Type":"application/json"}});case 3:if(!(t=e.sent).ok){e.next=10;break}return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 10:throw t.status;case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),me="products/bicycles/bicycleList",ge="products/bicycles/bicycleDetail",ye="products/bicycle/bicycleURL";var we=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(v,"/bicycles/bicyclesList"),{method:"get",headers:{"Content-Type":"application/json"}});case 3:if(!(t=e.sent).ok){e.next=10;break}return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 10:throw t.status;case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),ke="products/Clothing/clothingList",Se="products/Clothing/clothingDetail",Le="products/Clothing/clothingLoaded",Ce="products/clothing/clothingURL";var Re=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(v,"/clothing/clothingList"),{method:"get",headers:{"Content-Type":"application/json"}});case 3:if(!(t=e.sent).ok){e.next=10;break}return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 10:throw t.status;case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),Ne=function(e){e.props;var t=Object(O.g)();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"centerDiv",children:Object(n.jsxs)("form",{className:"loginOrSignUp",children:[Object(n.jsx)("h3",{children:"Already have an account? "}),Object(n.jsx)("button",{style:{border:"2px solid black"},id:"login",onClick:function(e){e.preventDefault(),t.push({pathname:"/users/login"})},children:"Login"}),Object(n.jsx)("h3",{children:"Sign up?"}),Object(n.jsx)("button",{style:{border:"2px solid black"},id:"signUp",onClick:function(e){e.preventDefault(),t.push({pathname:"/users/signup"})},children:"SignUp"})]})})})},Ae=function(){var e=Object(O.h)(),t=e.state.size,c=e.state.color,r=e.state.frame,a=e.state.type,s=e.state.gender,i=e.state.price,o=e.state.photoUrl,l=e.state.name;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:"Congratulations!  Your order has been placed."}),Object(n.jsx)("h2",{children:l}),Object(n.jsx)("img",{src:o,style:{height:"20%"},alt:"product"}),Object(n.jsx)("p",{children:i}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:"Order details:"}),Object(n.jsxs)("ul",{children:[t?Object(n.jsxs)("li",{children:["Size: ",t]}):null,c?Object(n.jsxs)("li",{children:["Color: ",c]}):null,r?Object(n.jsxs)("li",{children:["Frame: ",r," "]}):null,s?Object(n.jsxs)("li",{children:["Gender: ",s]}):null,a?Object(n.jsxs)("li",{children:["Type:  ",a]}):null,i?Object(n.jsxs)("li",{children:["Price: ",i]}):null]})]})]})},Ie=function(e){return Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"OrderDetail ... should be a protected route"})})},De=c(49),Te=c.n(De),Ee=c(89),Ue=c(48),Fe=c.n(Ue),Pe=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.authentication.avatarURL})),c=Object(h.c)((function(e){return e.authentication.token})),a=Object(h.c)((function(e){return e.authentication.userId})),s=Object(h.c)((function(e){return e.authentication.name})),i=Object(h.c)((function(e){return e.authentication.badgeCount})),o=Object(O.g)();Object(r.useEffect)((function(){if(!a){var t=window.localStorage.getItem("userId");e(F(t))}}),[a]),Object(r.useEffect)((function(){Object(u.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=5;break}return t.next=3,B(a);case 3:c=t.sent,e(P(c));case 5:case"end":return t.stop()}}),t)})))()}),[i,e,a]),Object(r.useEffect)((function(){a&&Object(u.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=5;break}return t.next=3,_(a);case 3:c=t.sent,e(E(c));case 5:case"end":return t.stop()}}),t)})))()}),[a,t,e]),Object(r.useEffect)((function(){a&&Object(u.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=5;break}return t.next=3,z(a);case 3:c=t.sent,e(U(c));case 5:case"end":return t.stop()}}),t)})))()}),[a,s,e]);return Object(n.jsxs)("div",{style:{display:"inline-flex",justifyContent:"space-between",width:"100%",borderBottom:"2px solid white"},children:[Object(n.jsxs)("div",{className:"homeShoppingCartIcon",children:[Object(n.jsx)(Fe.a,{className:"homeIcon",onClick:function(e){e.preventDefault(),de(""),o.push("/")},style:{margin:"10px",color:"white",fontSize:"40px"}}),Object(n.jsx)(Ee.a,{className:"shoppingCartIcon",onClick:function(e){e.preventDefault(),o.push("/cartForm")},badgeContent:i,color:"secondary",children:Object(n.jsx)(Te.a,{style:{color:"white",fontSize:"40px"}})})]}),Object(n.jsx)("div",{style:{width:"30%"},children:Object(n.jsx)("label",{className:"logoFont",children:"CF Riders"})}),Object(n.jsxs)("div",{className:"avatar-container",children:[Object(n.jsx)("button",{className:"signInButton",onClick:function(t){c?(e(D()),e({type:w}),e({type:S}),e({type:C}),e({type:N}),e({type:I}),window.localStorage.removeItem(f),window.localStorage.removeItem("userId"),window.localStorage.removeItem("/user/authentication/token"),o.push("/")):(t.preventDefault(),o.push("/users/logInOrSignUp"))},children:c?"SignOut":"SignIn"}),t?Object(n.jsx)("img",{src:t,className:"main-profile-img avatar",alt:"avatar"}):Object(n.jsx)("img",{src:"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png",className:"main-profile-img avatar",alt:"avatar"}),Object(n.jsxs)("div",{style:{display:"block"},children:[s?Object(n.jsx)("h4",{style:{marginBottom:"0"},children:"Welcome"}):null,s?Object(n.jsxs)("h4",{style:{marginTop:"0"},children:[s,"!"]}):null]})]})]})},_e=function(){var e=Object(h.c)((function(e){return e.bicycles.bicycleList}));return e?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"productGrid",children:e.map((function(e){var t=e.id,c=e.name,r=e.photoURL,a=e.price.toFixed(2);return Object(n.jsxs)(x.b,{style:{textDecoration:"none"},className:"productItem",to:"/bicycleDetail/".concat(t),children:[Object(n.jsx)("img",{id:e.id,src:r,alt:"Bicycles"},t),Object(n.jsx)(X.a.Caption,{children:c}),Object(n.jsxs)("span",{className:"price",children:["$",a]})]},t)}))})}):Object(n.jsx)("h1",{children:"Loading ... "})},ze=function(){var e=Object(O.h)().pathname.slice(15),t=Object(h.c)((function(e){return e.authentication.userId})),c=Object(r.useState)(void 0),a=Object(d.a)(c,2),s=a[0],i=a[1],o=Object(r.useState)(void 0),j=Object(d.a)(o,2),b=j[0],p=j[1],x=Object(r.useState)(void 0),f=Object(d.a)(x,2),m=f[0],g=f[1],y=Object(r.useState)(void 0),w=Object(d.a)(y,2),k=w[0],S=w[1];return Object(r.useEffect)((function(){e&&(Object(u.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,be(e);case 2:c=t.sent,i(c);case 4:case"end":return t.stop()}}),t)})))(),Object(u.a)(l.a.mark((function t(){var c,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(v,"/reviewsRatings/rating/").concat(e));case 2:if(!(c=t.sent).ok){t.next=10;break}return t.next=6,c.json();case 6:n=t.sent,g(n.averageRating),t.next=10;break;case 10:case"end":return t.stop()}}),t)})))(),Object(u.a)(l.a.mark((function t(){var c,n,r,a,s,i,o,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(v,"/reviewsRatings/reviews/").concat(e));case 2:if(!(c=t.sent).ok){t.next=13;break}return t.next=6,c.json();case 6:for(n=t.sent,r={weekday:"long",year:"numeric",month:"long",day:"numeric"},a=0;a<n.reviews.length;a++)s=n.reviews[a].postDate,i=new Date(s),o=i.toLocaleDateString(void 0,r),n.reviews[a].postDate=o;u=n.reviews,S(u),t.next=13;break;case 13:case"end":return t.stop()}}),t)})))())}),[e]),Object(r.useEffect)((function(){e&&t&&Object(u.a)(l.a.mark((function c(){return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch("".concat(v,"/reviewsRatings/reviews/").concat(t,"/").concat(e));case 2:c.sent.ok?p(!1):p(!0);case 4:case"end":return c.stop()}}),c)})))()}),[e,t]),s?Object(n.jsx)(q,{detail:s,userPosted:b,productRating:m,userReviews:k}):Object(n.jsx)("h2",{children:"Loading..."})},Be=function(){var e=Object(h.c)((function(e){return e.clothing.clothingList}));return e?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"productGrid",children:e.map((function(e){var t=e.id,c=e.name,r=e.photoURL,a=e.price.toFixed(2);return Object(n.jsxs)(x.b,{style:{textDecoration:"none"},className:"productItem",to:"/clothingDetail/".concat(t),children:[Object(n.jsx)("img",{id:e.id,src:r,alt:"Clothing"},t),Object(n.jsx)(X.a.Caption,{style:{marginTop:"-5px"},children:c}),Object(n.jsxs)("span",{className:"price",children:["$",a]})]},t)}))})}):Object(n.jsx)("h1",{children:"Loading ... "})},Me=function(){var e=Object(O.h)().pathname.slice(16),t=Object(h.c)((function(e){return e.authentication.userId})),c=Object(r.useState)(void 0),a=Object(d.a)(c,2),s=a[0],i=a[1],o=Object(r.useState)(void 0),j=Object(d.a)(o,2),b=j[0],p=j[1],x=Object(r.useState)(void 0),f=Object(d.a)(x,2),m=f[0],g=f[1],y=Object(r.useState)(void 0),w=Object(d.a)(y,2),k=w[0],S=w[1];return Object(r.useEffect)((function(){e&&(Object(u.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,be(e);case 2:c=t.sent,i(c);case 4:case"end":return t.stop()}}),t)})))(),Object(u.a)(l.a.mark((function t(){var c,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(v,"/reviewsRatings/rating/").concat(e));case 2:if(!(c=t.sent).ok){t.next=10;break}return t.next=6,c.json();case 6:n=t.sent,g(n.averageRating),t.next=10;break;case 10:case"end":return t.stop()}}),t)})))(),Object(u.a)(l.a.mark((function t(){var c,n,r,a,s,i,o,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(v,"/reviewsRatings/reviews/").concat(e));case 2:if(!(c=t.sent).ok){t.next=13;break}return t.next=6,c.json();case 6:for(n=t.sent,r={weekday:"long",year:"numeric",month:"long",day:"numeric"},a=0;a<n.reviews.length;a++)s=n.reviews[a].postDate,i=new Date(s),o=i.toLocaleDateString(void 0,r),n.reviews[a].postDate=o;u=n.reviews,S(u),t.next=13;break;case 13:case"end":return t.stop()}}),t)})))())}),[e]),Object(r.useEffect)((function(){e&&t&&Object(u.a)(l.a.mark((function c(){return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch("".concat(v,"/reviewsRatings/reviews/").concat(t,"/").concat(e));case 2:c.sent.ok?p(!1):p(!0);case 4:case"end":return c.stop()}}),c)})))()}),[e,t]),s?Object(n.jsx)(q,{detail:s,userPosted:b,productRating:m,userReviews:k}):Object(n.jsx)("h2",{children:"Loading..."})},Ge=function(){var e=Object(h.c)((function(e){return e.accessories.accessoryList}));return e?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"productGrid",children:e.map((function(e){var t=e.id,c=e.name,r=e.photoURL,a=e.price.toFixed(2);return Object(n.jsxs)(x.b,{style:{textDecoration:"none"},className:"productItem",to:"/accessoryDetail/".concat(t),children:[Object(n.jsx)("img",{id:e.id,src:r,alt:"Accessories"},t),Object(n.jsx)(X.a.Caption,{style:{marginTop:"-5px"},children:c}),Object(n.jsxs)("span",{className:"price",children:["$",a]})]},t)}))})}):Object(n.jsx)("h1",{children:"Loading ... "})},Ve=function(){var e=Object(O.h)().pathname.slice(17),t=Object(h.c)((function(e){return e.authentication.userId})),c=Object(r.useState)(void 0),a=Object(d.a)(c,2),s=a[0],i=a[1],o=Object(r.useState)(void 0),j=Object(d.a)(o,2),b=j[0],p=j[1],x=Object(r.useState)(void 0),f=Object(d.a)(x,2),m=f[0],g=f[1],y=Object(r.useState)(void 0),w=Object(d.a)(y,2),k=w[0],S=w[1];return Object(r.useEffect)((function(){e&&(Object(u.a)(l.a.mark((function t(){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,be(e);case 2:c=t.sent,i(c);case 4:case"end":return t.stop()}}),t)})))(),Object(u.a)(l.a.mark((function t(){var c,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(v,"/reviewsRatings/rating/").concat(e));case 2:if(!(c=t.sent).ok){t.next=10;break}return t.next=6,c.json();case 6:n=t.sent,g(n.averageRating),t.next=10;break;case 10:case"end":return t.stop()}}),t)})))(),Object(u.a)(l.a.mark((function t(){var c,n,r,a,s,i,o,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(v,"/reviewsRatings/reviews/").concat(e));case 2:if(!(c=t.sent).ok){t.next=13;break}return t.next=6,c.json();case 6:for(n=t.sent,r={weekday:"long",year:"numeric",month:"long",day:"numeric"},a=0;a<n.reviews.length;a++)s=n.reviews[a].postDate,i=new Date(s),o=i.toLocaleDateString(void 0,r),n.reviews[a].postDate=o;u=n.reviews,S(u),t.next=13;break;case 13:case"end":return t.stop()}}),t)})))())}),[e]),Object(r.useEffect)((function(){e&&t&&Object(u.a)(l.a.mark((function c(){return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch("".concat(v,"/reviewsRatings/reviews/").concat(t,"/").concat(e));case 2:c.sent.ok?p(!1):p(!0);case 4:case"end":return c.stop()}}),c)})))()}),[e,t]),s?Object(n.jsx)(q,{detail:s,userPosted:b,productRating:m,userReviews:k}):Object(n.jsx)("h2",{children:"Loading..."})},Je="cart/setCartList",$e="cart/removeCartList",Ke="cart/setCartListTotal",We="cart/removeCartListTotal",He=function(e){return{type:Je,cartList:e}},Ye=function(e){return{type:Ke,total:e}};var qe=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(v,"/order/orderCart/").concat(t),{method:"post",headers:{"Content-Type":"application/json"}});case 3:e.sent.ok,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(u.a)(l.a.mark((function e(t,c,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(v,"/carts/removeCartItem/").concat(c),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,quantity:1,inventoryId:n})});case 3:if(!(r=e.sent).ok){e.next=11;break}return e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,c,n){return e.apply(this,arguments)}}(),Qe=function(e){var t=e.item,c=e.index,r=Object(h.b)(),a=function(){var e=Object(u.a)(l.a.mark((function e(c){var n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe(t.userId,t.cartId,t.inventoryId);case 2:for(n=e.sent,a=0,s=0;s<n.length;s++)a+=n[s].price;r(He(n)),r(Ye(a));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{style:{display:"flex",borderTop:"1px solid white",marginBottom:"20px"},children:[Object(n.jsx)("img",{src:t.photoUrl,className:"cartItem",style:{height:"10%",marginTop:"15px"},alt:"product"}),Object(n.jsx)("div",{style:{width:"20%"},children:Object(n.jsxs)("ul",{children:[t.description?Object(n.jsxs)("li",{children:["Description: ",t.description]}):null,t.size?Object(n.jsxs)("li",{children:["Size: ",t.size]}):null,t.color?Object(n.jsxs)("li",{children:["Color: ",t.color]}):null,t.frame?Object(n.jsxs)("li",{children:["Frame: ",t.frame," "]}):null,t.gender?Object(n.jsxs)("li",{children:["Gender: ",t.gender]}):null,t.type?Object(n.jsxs)("li",{children:["Type:  ",t.type]}):null]})}),Object(n.jsx)("button",{onClick:a,style:{border:"2px solid black",color:"black",width:"150px",marginLeft:"20px",marginTop:"10px"},children:"Remove from Cart"}),Object(n.jsxs)("div",{style:{display:"flex",marginLeft:"100px",marginTop:"20px",alignItems:"flex-start"},children:["Price: $",Number(parseFloat(t.price).toFixed(2)).toLocaleString("en",{minimumFractionDigits:2})]})]},c)},Ze=function(){var e=Object(h.c)((function(e){return e.authentication.userId})),t=Object(h.c)((function(e){return e.authentication.name})),c=Object(h.c)((function(e){return e.cart.cartList})),a=Object(h.c)((function(e){return e.cart.cartListTotal})),s=Object(h.b)(),i=Object(r.useState)(!1),o=Object(d.a)(i,2),j=o[0],b=o[1];Object(r.useEffect)((function(){e&&Object(u.a)(l.a.mark((function t(){var c,n,r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(v,"/carts/").concat(e));case 2:if(!(c=t.sent).ok){t.next=13;break}return t.next=6,c.json();case 6:for(n=t.sent,s(He(n.cartList)),r=0,a=0;a<n.cartList.length;a++)r+=n.cartList[a].price;s(Ye(Number(parseFloat(r).toFixed(2)).toLocaleString("en",{minimumFractionDigits:2}))),t.next=13;break;case 13:case"end":return t.stop()}}),t)})))()}),[e,s,a]);return e?j?Object(n.jsx)("h2",{children:"Your order has been placed!"}):c?Object(n.jsxs)("div",{style:{display:"inline-block"},children:[Object(n.jsxs)("div",{style:{borderBottom:"1px solid white"},children:[Object(n.jsx)("h2",{children:"Shopping Cart"}),Object(n.jsx)("h2",{children:t})]}),c&&c.length>0?Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsxs)("h3",{children:["Your cart total:  $",a]}),Object(n.jsx)(J.a,{onClick:function(t){qe(e),s({type:$e}),s({type:We}),b(!0),s(P(0))},style:{height:"30px",width:"160px",borderRadius:"2px solid black",marginTop:"10px",marginBottom:"10px",marginLeft:"60px",color:"black",border:"2px solid black"},children:"Place order now!"})]}):null,c&&c.length>0?c.map((function(e,t){return Object(n.jsx)(Qe,{item:e,index:t})})):Object(n.jsx)("h2",{children:"No items in your cart"})]}):Object(n.jsx)("h2",{children:"No items in your cart ..."}):Object(n.jsx)("h2",{children:"Loading..."})},et=function(e){var t=e.component,c=Object(p.a)(e,["component"]);return Object(n.jsx)(O.b,{render:function(e){return!0===c.needLogin?Object(n.jsx)(O.a,{to:"/users/login"}):Object(n.jsx)(t,Object(b.a)({},e))}})},tt=function(){var e=Object(h.c)((function(e){return e.authentication.token})),t=Object(r.useState)(!1),c=Object(d.a)(t,2),a=c[0],s=c[1],i=Object(h.b)(),o=!e;return Object(r.useEffect)((function(){s(!0),i(function(){var e=Object(u.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(c=window.localStorage.getItem(f))&&t(T(c));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(u.a)(l.a.mark((function e(){var t,c,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:return t=e.sent,i((s=t.accessoriesList,{type:he,accessoryList:s})),e.next=6,we();case 6:return c=e.sent,i((a=c.bicyclesList,{type:me,bicycleList:a})),e.next=10,Re();case 10:n=e.sent,i((r=n.clothingList,{type:ke,clothingList:r}));case 12:case"end":return e.stop()}var r,a,s}),e)})))()}),[]),a?Object(n.jsxs)(x.a,{children:[Object(n.jsx)(Pe,{}),Object(n.jsxs)(O.d,{children:[Object(n.jsx)(O.b,{path:"/users/login",render:function(e){return Object(n.jsx)(G,Object(b.a)({},e))}}),Object(n.jsx)(O.b,{path:"/orderConfirmation",render:function(e){return Object(n.jsx)(Ae,{props:e})}}),Object(n.jsx)(O.b,{path:"/users/logInOrSignUp",render:function(e){return Object(n.jsx)(Ne,Object(b.a)({},e))}}),Object(n.jsx)(O.b,{path:"/users/signup",render:function(e){return Object(n.jsx)(M,Object(b.a)({},e))}}),Object(n.jsx)(O.b,{path:"/products",render:function(e){return Object(n.jsx)(pe,Object(b.a)({},e))}}),Object(n.jsx)(O.b,{path:"/bicycleProducts",exact:!0,component:_e}),Object(n.jsx)(O.b,{path:"/bicycleDetail/:id",component:ze}),Object(n.jsx)(O.b,{path:"/clothingProducts",exact:!0,component:Be}),Object(n.jsx)(O.b,{path:"/clothingDetail/:id",component:Me}),Object(n.jsx)(O.b,{path:"/accessoryProducts",exact:!0,component:Ge}),Object(n.jsx)(O.b,{path:"/accessoryDetail/:id",component:Ve}),Object(n.jsx)(O.b,{path:"/productDetail",render:function(e){return Object(n.jsx)(q,Object(b.a)({},e))}}),Object(n.jsx)(et,{path:"/addToCartForm",exact:!0,needLogin:o,component:$}),Object(n.jsx)(et,{path:"/cartForm",exact:!0,needLogin:o,component:Ze}),Object(n.jsx)(et,{path:"/order",exact:!0,needLogin:o,component:Ie}),Object(n.jsx)(O.b,{path:"/",render:function(e){return Object(n.jsx)(pe,Object(b.a)({},e))}})]})]}):null},ct=function(e){var t=Object(r.useState)(""),c=Object(d.a)(t,2),a=c[0],s=c[1];Object(r.useEffect)((function(){Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=window.localStorage.getItem("token"))&&s(t);case 2:case"end":return e.stop()}}),e)})))()}),[s]);var i={token:a,setToken:s,needLogin:!a};return Object(n.jsx)(j.Provider,{value:i,children:Object(n.jsx)(tt,{})})},nt=c(27),rt=c(50),at=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||nt.d,st=Object(nt.c)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(b.a)(Object(b.a)({},e),{},{token:t.token});case A:var c=Object(b.a)({},e);return c.badgeCount=t.count,c;case I:var n=Object(b.a)({},e);return delete n.badgeCount,n;case g:var r=Object(b.a)({},e);return delete r.token,r;case y:var a=Object(b.a)({},e);return a.avatarURL=t.avatarURL,a;case w:var s=Object(b.a)({},e);return delete s.avatarURL,s;case k:var i=Object(b.a)({},e);return i.name=t.name,i;case S:var o=Object(b.a)({},e);return delete o.name,o;case L:var l=Object(b.a)({},e);return l.emailAddress=t.emailAddress,l;case C:var u=Object(b.a)({},e);return delete u.emailAddress,u;case R:var d=Object(b.a)({},e);return d.userId=t.id,d;case N:var j=Object(b.a)({},e);return delete j.userId,j;default:return e}},clothing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:var c=Object(b.a)({},e);return c.clothingList=t.clothingList,c;case Ce:var n=Object(b.a)({},e);return n.clothingURL=t.url,n;case Se:var r=Object(b.a)({},e);return r.clothingDetail=t.clothingDetail,r;case Le:var a=Object(b.a)({},e);return a.clothingLoaded=t.clothingLoaded,a;default:return e}},bicycles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:var c=Object(b.a)({},e);return c.bicycleURL=t.url,c;case me:var n=Object(b.a)({},e);return n.bicycleList=t.bicycleList,n;case ge:var r=Object(b.a)({},e);return r.bicycleDetail=t.bicycleId,r;default:return e}},accessories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:var c=Object(b.a)({},e);return c.accessoryURL=t.url,c;case he:var n=Object(b.a)({},e);return n.accessoryList=t.accessoryList,n;case Oe:var r=Object(b.a)({},e);return r.accessoryDetail=t.accessoryDetail,r;case xe:var a=Object(b.a)({},e);return a.accessoriesLoaded=t.accessoriesLoaded,a;default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Je:var c=Object(b.a)({},e);return c.cartList=t.cartList,c;case $e:var n=Object(b.a)({},e);return delete n.cartList,n;case Ke:var r=Object(b.a)({},e);return r.cartListTotal=t.total,r;case We:var a=Object(b.a)({},e);return delete a.cartListTotal,a;default:return e}},selectedProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:var c=Object(b.a)({},e);return c.selectedProduct=t.selectedProduct,c;case te:var n=Object(b.a)({},e);return n.productType=t.productType,n;case ce:var r=Object(b.a)({},e);return r.productId=t.selectedProductId,r;case ne:var a=Object(b.a)({},e);return a.colorsAvail=t.colorsAvail,a;case re:var s=Object(b.a)({},e);return s.framesAvail=t.framesAvail,s;case ae:var i=Object(b.a)({},e);return i.sizesAvail=t.sizesAvail,i;case se:var o=Object(b.a)({},e);return o.gendersAvail=t.gendersAvail,o;case ie:var l=Object(b.a)({},e);return l.name=t.productName,l;case oe:var u=Object(b.a)({},e);return u.price=t.productPrice,u;case le:var d=Object(b.a)({},e);return d.description=t.productDescription,d;case ue:var j=Object(b.a)({},e);return j.photoURL=t.photoURL,j;case Z:var p=Object(b.a)({},e);return p.inventoryAvail=t.inventoryAvail,p;default:return e}}}),it=function(e){return Object(nt.e)(st,e,at(Object(nt.a)(rt.a)))}();i.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(h.a,{store:it,children:Object(n.jsx)(ct,{})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.c64b12d5.chunk.js.map