{"version":3,"sources":["UserContext.js","config.js","store/authentication.js","auth/SignUp.js","auth/LoginPanel.js","cart/AddToCartForm.js","product/ProductReview.js","product/ProductReviewInput.js","product/ProductHeadline.js","product/ProductReviewSignup.js","product/ProductDetail.js","product/ProductGrid.js","store/selectedProduct.js","product/ProductsBrowser.js","store/accessories.js","store/bicycles.js","store/clothing.js","auth/LogInOrSignUp.js","order/OrderConfirmation.js","order/OrderDetail.js","navigation/NavBar.js","bicycles/bicycleProducts.js","bicycles/bicycleDetail.js","clothing/clothingProducts.js","clothing/clothingDetail.js","accessories/accessoryProducts.js","accessories/accessoryDetail.js","store/cart.js","cart/CartItem.js","cart/CartForm.js","App.js","AppWithContext.js","store/configureStore.js","index.js"],"names":["UserContext","createContext","baseUrl","process","REACT_APP_BASE_URL","TOKEN_KEY","SET_TOKEN","REMOVE_TOKEN","SET_AVATAR_URL","REMOVE_AVATAR_URL","SET_USER_NAME","REMOVE_USER_NAME","SET_USER_EMAIL","REMOVE_USER_EMAIL","SET_USER_ID","REMOVE_USER_ID","SET_BADGE_COUNT","REMOVE_BADGE_COUNT","removeToken","token","type","setToken","setAvatarURL","avatarURL","setUserName","name","setUserId","id","setBadgeCount","count","getAvatarURL","userId","a","fetch","response","ok","json","resp","getUserName","userName","getBadgeCount","method","headers","cartItems","SignUp","props","useState","setUserToken","emailAddress","setEmailAddress","password","setPassword","confirmPassword","setConfirmPassword","setName","setLocalAvatarURL","dispatch","useDispatch","handleSubmit","e","preventDefault","body","JSON","stringify","user","window","localStorage","setItem","split","to","className","onSubmit","placeholder","value","onChange","target","style","border","LoginPanel","email","setEmail","loginDemo","width","backgroundColor","color","borderColor","onClick","AddToCartForm","productDetail","undefined","sizesAvail","setSizesAvail","colorsAvail","setColorsAvail","gendersAvail","setGendersAvail","framesAvail","setFramesAvail","inventoryAvail","setInventoryAvail","sizeSelected","setSizeSelected","colorSelected","setColorSelected","genderSelected","setGenderSelected","frameSelected","setFrameSelected","useSelector","state","authentication","errorMsg","setErrorMsg","history","useHistory","cartDone","setCartDone","useEffect","length","objInArray","obj","arr","i","handleChange","prop","newValue","newInventory","inv","size","gender","frames","push","setNewInventory","sz","clr","fr","gdr","tmpSizes","tmpGenders","tmpColors","tmpFrames","label","isdisabled","frame","setOptions","findInventoryId","inventoryId","event","quantity","cartItemCount","setTimeout","display","Button","marginTop","height","marginRight","variant","productId","options","isSearchable","ProductReview","review","stars","setStars","myStars","rating","src","alt","borderRadius","postDate","borderBottom","ProductReviewInput","setReview","star1Active","setStar1Active","star2Active","setStar2Active","star3Active","setStar3Active","star4Active","setStar4Active","star5Active","setStar5Active","errors","setErrors","setRating","borderTop","rows","marginLeft","pathname","res","console","log","ProductHeadline","productRating","productPrice","starsArr","productName","description","price","ProductReviewSignup","ProductDetail","detail","userPosted","userReviews","photoURL","map","idx","ProductGrid","bicycleList","bicycles","accessoryList","accessories","clothingList","clothing","setProductDetail","listItemArr","listItemType","category","limit","slice","arrIdx","Figure","Caption","SET_INVENTORY_AVAIL","SET_SELECTED_PRODUCT","SET_SELECTED_PRODUCT_TYPE","SET_SELECTED_PRODUCT_ID","SET_COLORS_AVAIL","SET_FRAMES_AVAIL","SET_SIZES_AVAIL","SET_GENDERS_AVAIL","SET_SELECTED_PRODUCT_NAME","SET_SELECTED_PRODUCT_PRICE","SET_SELECTED_PRODUCT_DESCRIPTION","SET_SELECTED_PRODUCT_PHOTOURL","setSelectedProductType","productType","getSelectedProductInfo","respArr","productInfo","status","ProductsBrowser","featuredBicycleURL","setFeaturedBicycleURL","featuredClothingURL","setFeaturedClothingURL","featuredAccessoryURL","setFeaturedAccessoryURL","accessoriesList","bicyclesList","productsSelected","selectedProduct","handleClick","SET_ACCESSORY_LIST","SET_ACCESSORY_DETAIL","SET_ACCESSORY_LOADED","SET_ACCESSORY_URL","fetchAccessoriesList","SET_BICYCLE_LIST","SET_BICYCLE_DETAIL","SET_BICYCLE_URL","fetchBicyclesList","SET_CLOTHING_LIST","SET_CLOTHING_DETAIL","SET_CLOTHING_LOADED","SET_CLOTHING_URL","fetchClothingList","LogInOrSignUp","OrderConfirmation","location","useLocation","photoUrl","OrderDetail","NavBar","badgeCount","uid","getItem","bc","url","justifyContent","margin","fontSize","Badge","badgeContent","removeItem","marginBottom","BicycleProducts","bicycleArr","item","toFixed","textDecoration","BicycleDetail","setDetail","setUserPosted","setProductRating","setUserReviews","averageRating","weekday","year","month","day","reviews","dateString","Date","newDateStr","toLocaleDateString","ClothingProducts","clothingArr","ClothingDetail","AccessoryProducts","accessoryArr","AccessoryDetail","SET_CART_LIST","REMOVE_CART_LIST","SET_CART_LIST_TOTAL","REMOVE_CART_LIST_TOTAL","setCartList","cartList","setCartListTotal","total","orderCartItems","removeCartItem","cartId","updatedCart","CartItem","index","newCartList","ncl","alignItems","Number","parseFloat","toLocaleString","minimumFractionDigits","CartForm","cart","totalCartList","cartListTotal","orderPlaced","setOrderPlaced","cl","tcl","PrivateRoute","Component","component","rest","render","needLogin","App","loaded","setLoaded","responseAccy","responseBike","responseClothing","path","exact","AppWithContext","localToken","Provider","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reducer","combineReducers","action","newState","clothingURL","clothingDetail","clothingLoaded","bicycleURL","bicycleDetail","bicycleId","accessoryURL","accessoryDetail","accessoriesLoaded","selectedProductId","productDescription","store","initialState","createStore","applyMiddleware","thunk","configureStore","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c64b12d5.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nconst UserContext = createContext();\n\nexport default UserContext;\n","export const baseUrl = process.env.REACT_APP_BASE_URL || `http://localhost:8080`;\n","import { baseUrl } from '../config';\n\nexport const TOKEN_KEY = 'user/authentication/token';\nexport const SET_TOKEN = 'user/authentication/SET_TOKEN';\nexport const REMOVE_TOKEN = 'user/authentication/REMOVE_TOKEN';\nexport const SET_AVATAR_URL = 'user/authentication/SET_AVATAR';\nexport const REMOVE_AVATAR_URL = 'user/authentication/REMOVE_AVATAR';\nexport const SET_USER_NAME = 'user/authentication/SET_USER_NAME';\nexport const REMOVE_USER_NAME = 'user/authentication/REMOVE_USER_NAME';\nexport const SET_USER_EMAIL = 'user/authentication/SET_USER_EMAIL';\nexport const REMOVE_USER_EMAIL = 'user/authentication/REMOVE_USER_EMAIL';\nexport const SET_USER_ID = 'user/authentication/SET_USER_ID';\nexport const REMOVE_USER_ID = 'user/authentication/REMOVE_USER_ID';\nexport const SET_BADGE_COUNT = 'user/authentication/SET_BADGE_COUNT';\nexport const REMOVE_BADGE_COUNT = 'user/authentication/REMOVE_BADGE_COUNT';\n\n//actions\nexport const removeToken = token => ({ type: REMOVE_TOKEN });\nexport const setToken = token => ({ type: SET_TOKEN, token });\nexport const removeAvatarURL = () => ( {type: REMOVE_AVATAR_URL});\nexport const setAvatarURL = avatarURL => ({ type: SET_AVATAR_URL, avatarURL});\nexport const removeUserName = () => ({ type: REMOVE_USER_NAME })\nexport const setUserName = name => ({ type: SET_USER_NAME, name});\nexport const removeUserEmail = () => ({type: REMOVE_USER_EMAIL});\nexport const setUserEmail = emailAddress => ({ type: SET_USER_EMAIL, emailAddress});\nexport const removeUserId = () => ({ type: REMOVE_USER_ID });\nexport const setUserId = id => ({ type: SET_USER_ID, id});\nexport const setBadgeCount = count => ({ type: SET_BADGE_COUNT, count});\nexport const removeBadgeCount = () => ({ type: REMOVE_BADGE_COUNT});\n\n//thunks\nexport const loadToken = () => async dispatch => {\n  const token = window.localStorage.getItem(TOKEN_KEY);\n  if (token) {\n    dispatch(setToken(token));\n  }\n};\n\nexport const getUserInfo = (emailAddress) => async dispatch => {\n  const response = await fetch(`${baseUrl}/users/avatarInfo`, {\n       method: 'post',\n       headers: { 'Content-Type': 'application/json' },\n       body: JSON.stringify({emailAddress}),\n    });\n\n    if (response.ok) {\n        const {avatarURL, name, id} = await response.json();\n        if (avatarURL) {\n          dispatch(setAvatarURL(avatarURL))\n        } else {\n          dispatch(setAvatarURL('https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png'));\n        }\n        dispatch(setUserName(name.split(\" \")[0]));\n        dispatch(setUserId(id));\n    }\n};\n\nexport const logout = () => async (dispatch) => {\n    window.localStorage.removeItem(TOKEN_KEY);\n    dispatch(removeToken());\n\n}\n\n// just a function\nexport const getAvatarURL = async(userId) => {\n  const response = await fetch(`${baseUrl}/users/avatarURL/${userId}`);\n  if (response.ok) {\n    const resp = await response.json();\n    return resp.avatarURL;\n  }\n}\n\nexport const getUserName = async(userId) => {\n  const response = await fetch(`${baseUrl}/users/userName/${userId}`);\n  if (response.ok) {\n    const resp = await response.json();\n    return resp.userName;\n  }\n}\n\nexport const getToken = async (emailAddress, password) => {\n   const response = await fetch(`${baseUrl}/users/token`, {\n        method: \"post\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({emailAddress, password}),\n    });\n\n    if (response.ok) {\n        const { token } = await response.json();\n        window.localStorage.setItem(\"token\", token);\n        return token;\n    }\n};\n\n//reducers\nexport default function reducer(state = {}, action) {\n  switch (action.type) {\n    case SET_TOKEN: {\n      return {\n        ...state,\n        token: action.token,\n      };\n    }\n    case SET_BADGE_COUNT: {\n      const newState = {...state };\n      newState.badgeCount = action.count;\n      return newState;\n    }\n    case REMOVE_BADGE_COUNT: {\n      const newState = {...state };\n      delete newState.badgeCount;\n      return newState;\n    }\n\n    case REMOVE_TOKEN: {\n      const newState = { ...state };\n      delete newState.token;\n      return newState;\n    }\n\n    case SET_AVATAR_URL: {\n        const newState = { ...state };\n        newState.avatarURL = action.avatarURL;\n        return newState;\n    }\n\n    case REMOVE_AVATAR_URL: {\n      const newState = { ...state};\n      delete newState.avatarURL;\n      return newState;\n    }\n\n    case SET_USER_NAME: {\n        const newState = { ...state };\n        newState.name = action.name;\n        return newState;\n    }\n\n    case REMOVE_USER_NAME: {\n      const newState = { ...state };\n      delete newState.name;\n      return newState;\n    }\n\n    case SET_USER_EMAIL: {\n      const newState = { ...state };\n      newState.emailAddress = action.emailAddress;\n      return newState;\n    }\n\n    case REMOVE_USER_EMAIL: {\n      const newState = { ...state};\n      delete newState.emailAddress;\n      return newState;\n    }\n\n    case SET_USER_ID: {\n      const newState = { ...state};\n      newState.userId = action.id;\n      return newState;\n    }\n\n    case REMOVE_USER_ID: {\n      const newState = { ...state};\n      delete newState.userId;\n      return newState;\n    }\n\n    default: return state;\n  }\n}\n\nexport const getBadgeCount = async(userId) => {\n    const response = await fetch(`${baseUrl}/carts/cartItemCount/${userId}`, {\n        method: 'get',\n        headers: { 'Content-Type': 'application/json' },\n    });\n    if (response.ok) {\n        const cartItems = await response.json();\n        return cartItems.cartItems;\n    } else {\n        // console.log(\"Failed to get badgeCount.\");\n        return 0;\n    }\n}\n","import React, {useState} from 'react';\nimport {useDispatch} from 'react-redux';\nimport { baseUrl } from '../config';\nimport { TOKEN_KEY, setUserName, setAvatarURL, setToken, setUserId } from '../store/authentication';\nimport { Redirect } from 'react-router-dom';\n\nconst SignUp = (props) => {\n    const [token, setUserToken] = useState('');\n    const [emailAddress, setEmailAddress] = useState('');\n    const [password, setPassword] = useState('');\n    const [confirmPassword, setConfirmPassword] = useState('');\n    const [name, setName] = useState('');\n    const [avatarURL, setLocalAvatarURL] = useState('');\n\n    const defaultAvatar = \"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png\"\n    const dispatch = useDispatch();\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const response = await fetch(`${baseUrl}/users/`, {\n            method: 'post',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ name, emailAddress, password, confirmPassword, avatarURL }),\n          });\n          if (response.ok) {\n            const { token, user } = await response.json();\n            window.localStorage.setItem(TOKEN_KEY, token);\n            dispatch(setToken(token));\n            dispatch(setUserName(user.name.split(\" \")[0]));\n            dispatch(setUserId(user.id));\n            if (avatarURL === '') {\n                dispatch(setAvatarURL(defaultAvatar));\n            } else {\n                dispatch(setAvatarURL(avatarURL));\n            }\n            setUserToken(token);\n          }\n    }\n\n    const updateName = (e) => {\n        setName(e.target.value);\n    }\n\n    const updateConfirmPassword = (e) => {\n        setConfirmPassword(e.target.value);\n    }\n\n    const updateEmailAddress = (e) => {\n        setEmailAddress(e.target.value);\n    };\n\n    const updatePassword = (e) => {\n        setPassword(e.target.value);\n    };\n\n    const updateAvatarURL = (e) => {\n        setLocalAvatarURL(e.target.value);\n    }\n\n    if (token) {\n        return <Redirect to=\"/\" />;\n    }\n\n    return (\n        <div>\n            <form className=\"signUpForm\" onSubmit={handleSubmit}>\n                <div className=\"signUpInput\">\n\t                <div className=\"signUpLabel\">\n\t\t                <label>Name </label>\n\t                </div>\n                    <input\n                        className=\"inputBox\"\n                        type=\"text\"\n                        placeholder=\"First and Last Name\"\n                        value={name}\n                        onChange={updateName}\n                    />\n                </div>\n                <div className=\"signUpInput\">\n\t                <div className=\"signUpLabel\">\n\t\t                <label>Email:</label>\n\t                </div>\n                    <input\n                        className=\"inputBox\"\n                        type=\"email\"\n                        placeholder=\"Email address\"\n                        value={emailAddress}\n                        onChange={updateEmailAddress}\n                    />\n                </div>\n                <div className=\"signUpInput\">\n\t                <div className=\"signUpLabel\">\n\t\t                <label>Avatar URL</label>\n\t                </div>\n                    <input\n                        className=\"inputBox\"\n                        type=\"text\"\n                        placeholder=\"Avatar URL (optional)\"\n                        value={avatarURL}\n                        onChange={updateAvatarURL}\n                    />\n                </div>\n                <div className=\"signUpInput\">\n\t                <div className=\"signUpLabel\">\n\t\t                <label>Password:</label>\n\t                </div>\n                    <input\n                        className=\"inputBox\"\n                        type=\"password\"\n                        placeholder=\"Password\"\n                        value={password}\n                        onChange={updatePassword}\n                    />\n                </div>\n                <div className=\"signUpInput\">\n\t                <div className=\"signUpLabel\">\n\t\t                <label>Password:</label>\n\t                </div>\n                    <input\n                        className=\"inputBox\"\n                        type=\"password\"\n                        placeholder=\"Confirm Password\"\n                        value={confirmPassword}\n                        onChange={updateConfirmPassword}\n                    />\n                </div>\n                <button style={{border: \"2px solid black\"}} type=\"submit\">Sign Up</button>\n                </form>\n            </div>\n\n    )\n}\nexport default SignUp;\n","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { baseUrl } from '../config';\nimport { TOKEN_KEY, setUserName, setAvatarURL, setToken, setUserId } from '../store/authentication';\n\nconst LoginPanel = (props) => {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [token, setUserToken] = useState('');\n\n    const dispatch = useDispatch();\n\n    const loginDemo = async (e) => {\n        setEmail(\"demouser@demouser.com\");\n        setPassword(\"password\");\n        e.preventDefault();\n\n        const response = await fetch(`${baseUrl}/users/login`, {\n            method: 'post',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ emailAddress: \"demouser@demouser.com\", password: \"password\" }),\n          });\n\n        if (response.ok) {\n                const { token, user } = await response.json();\n                window.localStorage.setItem(TOKEN_KEY, token);\n                window.localStorage.setItem(\"userId\", user.id);\n                dispatch(setToken(token));\n                dispatch(setUserName(user.name.split(\" \")[0]));\n                dispatch(setAvatarURL(user.avatarURL));\n                dispatch(setUserId(user.id));\n                setUserToken(token);\n          }\n    }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const response = await fetch(`${baseUrl}/users/login`, {\n            method: 'post',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ emailAddress: email, password }),\n          });\n          if (response.ok) {\n            const { token, user } = await response.json();\n            window.localStorage.setItem(TOKEN_KEY, token);\n            dispatch(setToken(token));\n            dispatch(setUserName(user.name.split(\" \")[0]));\n            dispatch(setAvatarURL(user.avatarURL));\n            dispatch(setUserId(user.id));\n            setUserToken(token);\n          }\n    }\n\n    const updateEmail = (e) => {\n        setEmail(e.target.value);\n    };\n\n    const updatePassword = (e) => {\n        setPassword(e.target.value);\n    };\n\n    if (token) {\n        return <Redirect to=\"/\" />;\n    }\n\n    return (\n        <div>\n            <form className=\"loginForm\">\n                <div className=\"loginInput\">\n                    <div >\n                        <label>Email :           </label>\n                    </div>\n                <input\n                    className=\"inputBox\"\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    value={email}\n                    onChange={updateEmail}\n                    />\n               </div>\n               <div className=\"loginInput\">\n                   <div >\n                        <label>Password : </label>\n                   </div>\n                <input\n                    className=\"inputBox\"\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    value={password}\n                    onChange={updatePassword}\n                />\n               </div>\n\n                <button style={{width: \"100px\", backgroundColor: \"white\", color: \"grey\", borderColor:\"black\"}}onClick={handleSubmit}>Login</button>\n                <button style={{width: \"100px\", backgroundColor: \"white\", color: \"grey\", borderColor:\"black\"}} onClick={loginDemo}>Login Demo</button>\n            </form>\n        </div>\n\n    )\n}\n\nexport default LoginPanel;\n","import React, { useState, useEffect } from \"react\";\nimport Select from \"react-select\";\nimport { useHistory } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { baseUrl } from \"../config\";\nimport { setBadgeCount } from \"../store/authentication\";\nimport Button from 'react-bootstrap/Button'\n\n\nconst AddToCartForm = ({ productDetail }) => {\n  const [sizesAvail, setSizesAvail] = useState(undefined);\n  const [colorsAvail, setColorsAvail] = useState(undefined);\n  const [gendersAvail, setGendersAvail] = useState(undefined);\n  const [framesAvail, setFramesAvail] = useState(undefined);\n  const [inventoryAvail, setInventoryAvail] = useState(undefined);\n  const [sizeSelected, setSizeSelected] = useState(undefined);\n  const [colorSelected, setColorSelected] = useState(undefined);\n  const [genderSelected, setGenderSelected] = useState(undefined);\n  const [frameSelected, setFrameSelected] = useState(undefined);\n  const userId = useSelector((state) => state.authentication.userId);\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [cartDone, setCartDone] = useState(false);\n\n  useEffect(() => {\n    if (productDetail.colorsAvail && productDetail.colorsAvail.length > 1) {\n      setColorsAvail(productDetail.colorsAvail);\n    } else if (\n      productDetail.colorsAvail &&\n      productDetail.colorsAvail.length === 1\n    ) {\n      setColorsAvail([productDetail.colorsAvail[0]]);\n      setColorSelected(productDetail.colorsAvail[0].value);\n    }\n    if (productDetail.framesAvail && productDetail.framesAvail.length > 1) {\n      setFramesAvail(productDetail.framesAvail);\n    } else if (\n      productDetail.framesAvail &&\n      productDetail.framesAvail.length === 1\n    ) {\n      setFramesAvail([productDetail.framesAvail[0]]);\n      setFrameSelected(productDetail.framesAvail[0].value);\n    }\n    if (productDetail.gendersAvail && productDetail.gendersAvail.length > 1) {\n      setGendersAvail(productDetail.gendersAvail);\n    } else if (\n      productDetail.gendersAvail &&\n      productDetail.gendersAvail.length === 1\n    ) {\n      setGendersAvail([productDetail.gendersAvail[0]]);\n      setGenderSelected(productDetail.gendersAvail[0].value);\n    }\n    if (productDetail.sizesAvail && productDetail.sizesAvail.length > 1) {\n      setSizesAvail(productDetail.sizesAvail);\n    } else if (\n      productDetail.sizesAvail &&\n      productDetail.sizesAvail.length === 1\n    ) {\n      setSizesAvail([productDetail.sizesAvail[0]]);\n      setSizeSelected(productDetail.sizesAvail[0].value);\n    }\n\n    setInventoryAvail(productDetail.inventoryAvail);\n  }, [productDetail]);\n\n  const setOptions = (inv) => {\n    let tmpSizes = [];\n    let tmpGenders = [];\n    let tmpColors = [];\n    let tmpFrames = [];\n    let sz, clr, fr, gdr;\n    for (let i = 0; i < inv.length; i++) {\n      if (inv[i].size) {\n        sz = { value: inv[i].size, label: inv[i].size, isdisabled: false };\n      }\n      if (inv[i].color) {\n        clr = { value: inv[i].color, label: inv[i].color, isdisabled: false };\n      }\n      if (inv[i].frame) {\n        fr = { value: inv[i].frame, label: inv[i].frame, isdisabled: false };\n      }\n      if (inv[i].gender) {\n        gdr = { value: inv[i].gender, label: inv[i].gender, isdisabled: false };\n      }\n      if (inv[i].size && !objInArray(sz, tmpSizes)) {\n        tmpSizes.push(sz);\n      }\n      if (inv[i].color && !objInArray(clr, tmpColors)) {\n        tmpColors.push(clr);\n      }\n      if (inv[i].frame && !objInArray(fr, tmpFrames)) {\n        tmpFrames.push(fr);\n      }\n      if (inv[i].gender && !objInArray(gdr, tmpGenders)) {\n        tmpGenders.push(gdr);\n      }\n    }\n    if (tmpSizes.length > 0) {\n      setSizesAvail(tmpSizes);\n\n    } else {\n      setSizesAvail([]);\n    }\n    if (tmpGenders.length > 0) {\n      setGendersAvail(tmpGenders);\n    } else {\n      setGendersAvail([]);\n    }\n    if (tmpColors.length > 0) {\n      setColorsAvail(tmpColors);\n    } else {\n      setColorsAvail([]);\n    }\n    if (tmpFrames.length > 0) {\n      setFramesAvail(tmpFrames);\n    } else {\n      setFramesAvail([]);\n    }\n  };\n\n\n  const setNewInventory = (inv) => {\n    let newInventory = [];\n\n    for (let i = 0; i < inventoryAvail.length; i++) {\n      if (inventoryAvail[i].color && colorSelected) {\n        if (inventoryAvail[i].color !== colorSelected) {\n          continue;\n        } //don't add this one -- it doesn't match)\n      }\n      if (inventoryAvail[i].size && sizeSelected) {\n        if (inventoryAvail[i].size !== sizeSelected) {\n          continue;\n        } //don't add this one -- it doesn't match)\n      }\n      if (inventoryAvail[i].gender && genderSelected) {\n        if (inventoryAvail[i].gender !== genderSelected) {\n          continue;\n        } //don't add this one -- it doesn't match)\n      }\n      if (inventoryAvail[i].frames && frameSelected) {\n        if (inventoryAvail[i].frames !== frameSelected) {\n          continue;\n        } //don't add this one - it doesn't match);\n      }\n      //if we made it this far, it matches on everything we wanted it to match on. So add it to\n      //our new inventoryAvailentory\n      newInventory.push(inventoryAvail[i]);\n    }\n    return newInventory;\n  };\n  const objInArray = (obj, arr) => {\n    for (let i = 0; i < arr.length; i++) {\n      if (arr[i].value === obj.value) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n\n\n  const handleChange = (prop) => (newValue) => {\n    switch (prop) {\n      case \"color\": {\n          setColorSelected(newValue.value);\n        break;\n      }\n      case \"size\": {\n        setSizeSelected(newValue.value);\n        break;\n      }\n      case \"gender\": {\n        setGenderSelected(newValue.value);\n        break;\n      }\n      case \"frame\": {\n        setFrameSelected(newValue.value);\n        break;\n      }\n      default: {\n        break;\n      }\n\n    }\n\n    const newInventory = setNewInventory(inventoryAvail);\n    setInventoryAvail(newInventory);\n    setOptions(newInventory);\n  };\n  const findInventoryId = () => {\n\n    for (let i = 0; i < inventoryAvail.length; i++) {\n\n      if (sizeSelected && inventoryAvail[i].size !== sizeSelected) {\n        continue;\n      }\n      if (colorSelected && inventoryAvail[i].color !== colorSelected) {\n        continue;\n      }\n\n      if (frameSelected && inventoryAvail[i].frame !== frameSelected) {\n        continue;\n      }\n      if (genderSelected && inventoryAvail[i].gender !== genderSelected) {\n        continue;\n      }\n      //if we make it this far, we've found the appropriate inventory item.\n      return inventoryAvail[i].inventoryId;\n    }\n    return undefined;\n  };\n\n  const submitCheck = () => {\n    if (colorsAvail && colorsAvail.length > 1 && !colorSelected) {\n      setErrorMsg((errorMsg) => (errorMsg += \"No color specified.  \"));\n    }\n    if (sizesAvail && sizesAvail.length > 1 && !sizeSelected) {\n      setErrorMsg((errorMsg) => (errorMsg += \"No size selected.  \"));\n    }\n    if (gendersAvail && gendersAvail.length > 1 && !genderSelected) {\n      setErrorMsg((errorMsg) => (errorMsg += \"Select M/F. \"));\n    }\n    if (framesAvail && framesAvail.length > 1 && !frameSelected) {\n      setErrorMsg((errorMsg) => (errorMsg += \"No frame selected. \"));\n    }\n  };\n  const handleSubmit = async(event) => {\n    event.preventDefault();\n    submitCheck();\n\n    if (errorMsg === \"\") {\n      const inventoryId = findInventoryId();\n      if (inventoryId && userId) {\n\n          const response = await fetch(`${baseUrl}/carts`, {\n            method: \"post\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({\n              userId,\n              inventoryId,\n              quantity: \"1\",\n            }),\n          });\n          if (response.ok) {\n            const cartItemCount = await response.json();\n            dispatch(setBadgeCount(cartItemCount.cartItems));\n            setCartDone(true);\n          }\n\n      } else {\n        // console.log(\"AddToCartForm: Failed fetch.  InventoryId: \",\n        //   inventoryId,\n        //   \" UserId: \",\n        //   userId\n        // );\n      }\n    } else {\n      setTimeout(() => {\n        setErrorMsg(\"\");\n      }, 5000);\n    }\n  };\n\n  const returnToProducts = () => { history.push('/products');}\n  const goToShoppingCart = () => { history.push('/cartForm');}\n\n  if (cartDone) {\n    return (<>\n                <h2>This item has been added to your cart!</h2>\n                <div style={{display:\"flex\"}}>\n                <Button size=\"lg\" style={{marginTop:\"0px\", height:\"45px\", width: \"100px\",marginRight:\"30px\"}} variant=\"outline-success\" onClick={returnToProducts}>Continue Shopping</Button>\n                <Button size=\"lg\" style={{marginTop:\"0px\",height:\"45px\", width: \"100px\",}} variant=\"outline-success\" onClick={goToShoppingCart}>Go to My Cart</Button>\n                </div>\n            </>\n    )\n  } else if (!productDetail.productId || !inventoryAvail) {\n    return <h2>Loading...</h2>;\n  } else {\n    return (\n      <>\n        {errorMsg ? (\n          <div style={{ backgroundColor: \"red\", color: \"white\" }}>\n            {errorMsg}\n          </div>\n        ) : null}\n        { inventoryAvail && inventoryAvail.length > 0 ?\n          <form onSubmit={handleSubmit} >\n            <div style={{ marginTop: \"10px\" }}>\n              {sizesAvail && sizesAvail.length > 1 ? (\n                <>\n                  <label style={{ marginRight: \"10px\" }}>Size:</label>\n                  <Select\n                    options={sizesAvail}\n                    onChange={handleChange(\"size\")}\n                    isSearchable={true}\n                  ></Select>\n                </>\n              ) : null}\n              {sizesAvail && sizesAvail.length === 1 ? (\n                <>\n                  <label style={{ marginRight: \"10px\" }}>Size:</label>\n                  <label style={{ marginRight: \"10px\" }}>\n                    {\" \"}\n                    {sizesAvail[0].value}\n                  </label>\n                </>\n              ) : null}\n            </div>\n            <div style={{ marginTop: \"10px\" }}>\n              {colorsAvail && colorsAvail.length > 1 ? (\n                <>\n                  <label style={{ marginRight: \"10px\" }}>Color:</label>\n                  <Select\n                    options={colorsAvail}\n                    onChange={handleChange(\"color\")}\n                    isSearchable={true}\n                  ></Select>\n                </>\n              ) : null}\n                {colorsAvail && colorsAvail.length === 1 ? (\n                <>\n                  <label style={{ marginRight: \"10px\" }}>Color:</label>\n                  <label style={{ marginRight: \"10px\" }}>\n                    {\" \"}\n                    {colorsAvail[0].value}\n                  </label>\n                </>\n              ) : null}\n            </div>\n\n            <div style={{ marginTop: \"10px\" }}>\n              {framesAvail && framesAvail.length > 1 ? (\n                <>\n                  <label style={{ marginRight: \"10px\" }}>Frame:</label>\n                  <Select\n                    options={framesAvail}\n                    onChange={handleChange(\"frame\")}\n                  ></Select>\n                </>\n              ) : null}\n              {framesAvail && framesAvail.length === 1 ? (\n                <>\n                  <label style={{ marginRight: \"10px\" }}>Frame:</label>\n                  <label style={{ marginRight: \"10px\" }}>\n                    {\" \"}\n                    {framesAvail[0].value}\n                  </label>\n                </>\n              ) : null}\n            </div>\n            <div style={{ marginTop: \"10px\" }}>\n              {gendersAvail && gendersAvail.length > 1 ? (\n                <>\n                  <label style={{ marginRight: \"10px\" }}>Gender:</label>\n                  <Select\n                    options={gendersAvail}\n                    onChange={handleChange(\"gender\")}\n                    isSearchable={true}\n                  ></Select>\n                </>\n              ) : null}\n              {gendersAvail && gendersAvail.length === 1 ? (\n                <>\n                  <label style={{ marginRight: \"10px\" }}>Gender:</label>\n                  <label style={{ marginRight: \"10px\" }}>\n                    {\" \"}\n                    {gendersAvail[0].value}\n                  </label>\n                </>\n              ) : null}\n            </div>\n\n            <input\n              style={{ display: \"block\", marginTop: \"15px\" }}\n              type=\"submit\"\n              value=\"Add To Cart\"\n            />\n          </form>\n   : <h4>Temporarily out of stock</h4> }\n      </>\n    );\n  }\n};\n\nexport default AddToCartForm;\n","import React, { useState, useEffect } from 'react';\n\n\nconst ProductReview = ({review}) => {\n    //const [productId, setProductId] = useState(prodId);\n    const [stars, setStars] = useState([]);\n    useEffect ( () => {\n        let myStars = [];\n        for (let i = 0; i < review.rating; i++) {\n            myStars.push(<i className=\"fas fa-star\"></i>);\n        }\n        setStars(myStars);\n    }, [review.rating]);\n    return (\n        <>\n            <div >\n                <img src={review.avatarURL} alt=\"Avatar\" style={{height:\"60px\", width:\"60px\", borderRadius:\"40px\", backgroundColor:\"none\"}}/>\n                <p style={{display:\"inline-block\"}}>{review.name},    {review.postDate}</p>\n                <p>{stars}</p>\n            </div>\n            <div style={{borderBottom: \"2px solid grey\"}}>\n                <p>{review.review}</p>\n            </div>\n     </>\n    )\n    }\n\nexport default ProductReview;\n","import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { baseUrl } from '../config';\n\nconst ProductReviewInput = ({productDetail, productId}) => {\n    const history = useHistory();\n    const [review, setReview] = useState('');\n    const placeHolderMsg = 'Tell us what you like about this product ...';\n    const [star1Active, setStar1Active] = useState(false);\n    const [star2Active, setStar2Active] = useState(false);\n    const [star3Active, setStar3Active] = useState(false);\n    const [star4Active, setStar4Active] = useState(false);\n    const [star5Active, setStar5Active] = useState(false);\n    const [errors, setErrors] = useState();\n    const [rating, setRating] = useState(0);\n    const userId = useSelector(state => state.authentication.userId);\n\n    const handleSubmitReview = (e) => {\n        e.preventDefault();\n        (async() => {\n            const response = await fetch(`${baseUrl}/reviewsRatings/reviews/${productId}`, {\n              method: 'post',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify({ userId, rating, review }),\n            });\n            if (response.ok) {\n                setErrors('');\n                setReview('');\n                setRating(0);\n                setStar1Active(false);\n                setStar2Active(false);\n                setStar3Active(false);\n                setStar4Active(false);\n                setStar5Active(false);\n                history.push({ pathname: \"/productDetail\", state: {props: productDetail}});\n              } else {\n                  const res = await response.json();\n                  setErrors(res);\n                  console.log(\"ProductReviewInput: Failed to post review ...\");\n              }\n          })();\n    }\n\n    const updateReview = (e) => {\n        setReview(e.target.value);\n    };\n\n\nconst handleStarClick = (e) => {\n      let rating = 0;\n      switch (e.target.id) {\n          case \"star1\": {\n              //yes, rating seems backwards, but the user just clicked\n              //so we are reversing the rating from the previous setting.\n              star1Active ? rating = 0 : rating = 1;\n              setStar1Active(!star1Active);\n              setStar2Active(false);\n              setStar3Active(false);\n              setStar4Active(false);\n              setStar5Active(false);\n              break;\n          }\n          case \"star2\":{\n              star2Active ? rating = 0 : rating = 2;\n              setStar2Active(!star2Active);\n              setStar1Active(!star2Active);\n              setStar3Active(false);\n              setStar4Active(false);\n              setStar5Active(false);\n\n              break;\n          }\n          case \"star3\":{\n              star3Active ? rating = 0 : rating = 3;\n              setStar3Active(!star3Active);\n              setStar2Active(!star3Active);\n              setStar1Active(!star3Active);\n              setStar4Active(false);\n              setStar5Active(false);\n              break;\n          }\n          case \"star4\":{\n              star4Active ? rating = 0 : rating = 4;\n              setStar4Active(!star4Active);\n              setStar3Active(!star4Active);\n              setStar2Active(!star4Active);\n              setStar1Active(!star4Active);\n              setStar5Active(false);\n              break;\n          }\n          case \"star5\": {\n              star5Active ? rating = 0 : rating = 5;\n              setStar5Active(!star5Active);\n              setStar4Active(!star5Active);\n              setStar3Active(!star5Active);\n              setStar2Active(!star5Active);\n              setStar1Active(!star5Active);\n              break;\n              }\n          default :\n          }\n          setRating(rating);\n\n  };\n\n    return (\n        <>\n                <div style={{borderTop: \"2px solid grey\", display:\"inline-block\", width:\"60%\"}}>\n                    <div style={{display: \"block\"}}>\n                        <h2>Add your review: </h2>\n\n                        <h4>Rate this product:</h4>\n                            <h2 onClick={handleStarClick} >\n                            { star1Active ?\n                                // eslint-disable-next-line\n                                <a ><i id=\"star1\"className=\"fas fa-star\"></i></a> :\n                                // eslint-disable-next-line\n                                <a ><i id=\"star1\"className=\"far fa-star\"></i></a> }\n                            { star2Active ?\n                                // eslint-disable-next-line\n                                <a ><i id=\"star2\" className=\"fas fa-star\"></i></a> :\n                                // eslint-disable-next-line\n                                <a ><i id=\"star2\" className=\"far fa-star\"></i></a>}\n                            { star3Active ?\n                                // eslint-disable-next-line\n                                <a ><i id=\"star3\" className=\"fas fa-star\"></i></a> :\n                                // eslint-disable-next-line\n                            <a ><i id=\"star3\" className=\"far fa-star\"></i></a>}\n                            { star4Active ?\n                                // eslint-disable-next-line\n                                <a ><i id=\"star4\" className=\"fas fa-star\"></i></a> :\n                                // eslint-disable-next-line\n                                <a ><i id=\"star4\" className=\"far fa-star\"></i></a>}\n                            { star5Active ?\n                                // eslint-disable-next-line\n                                <a ><i id=\"star5\" className=\"fas fa-star\"></i></a> :\n                                // eslint-disable-next-line\n                                <a ><i id=\"star5\" className=\"far fa-star\"></i></a>}\n                            </h2>\n                            <div style={{borderTop: \"2px solid grey\", display:\"inline-block\", width:\"60%\"}}></div>\n                        { errors ? <div style={{width:\"81%\", backgroundColor:\"red\", color:\"white\"}}>{errors}</div> : null }\n                        <form style={{display: \"flex\"}}>\n                            <textarea\n                            style={{width: \"80%\"}}\n                            value={review}\n                            placeholder={placeHolderMsg}\n                            id=\"review\"\n                            name=\"review\"\n                            rows=\"10\"\n                            onChange={updateReview}></textarea>\n\n                            <button style={{marginLeft: \"20px\"}}id=\"Submit\" onClick={handleSubmitReview}>Submit</button>\n                        </form>\n                    </div>\n                </div>\n        </>\n    )\n};\n\nexport default ProductReviewInput;\n","import React, { useEffect, useState } from 'react';\n\n\nconst ProductHeadline = ({productDetail, productRating, productPrice}) => {\n   const [stars, setStars] = useState([]);\n\n    useEffect ( () => {\n        const starsArr = []\n        for (let i = 0; i < productRating; i++) {\n            starsArr.push(<i className=\"fas fa-star\"></i>);\n        }\n        setStars(starsArr);\n   }, [productRating])\n\n   return (\n        <div >\n            <h2>{productDetail.productName}</h2>\n            <p>{stars}</p>\n            <p>{productDetail.description}</p>\n            <p>Price:  ${productDetail.price}</p>\n        </div>\n    )\n}\n\nexport default ProductHeadline;\n","import React from 'react';\n\n\nconst ProductReviewSignup = () => {\n\n    return (\n        <div>\n            <h3>Wish to leave a review?  Login or Signup for an account!</h3>\n        </div>\n    )\n}\n\nexport default ProductReviewSignup;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport ProductReview from './ProductReview';\nimport ProductReviewInput from './ProductReviewInput';\nimport AddToCartForm from '../cart/AddToCartForm';\nimport ProductHeadline from './ProductHeadline';\nimport ProductReviewSignup from './ProductReviewSignup';\n\n\nconst ProductDetail = ({detail, userPosted, userReviews, productRating }) => {\n    const userId = useSelector(state => state.authentication.userId)\n\n    return (\n        <div>\n            <div style={{display:\"flex\", height: 'auto'}}>\n                <div className=\"productDetail\" style={{width:\"60%\"}} >\n                    <img src={detail.photoURL} style={{height: \"400px\"}} alt=\"product detail\"></img>\n                    <h2>Product Reviews:  </h2>\n                    { userReviews && userReviews.length > 0 ?\n                      userReviews.map( (review, idx) => <ProductReview key={idx} productId={detail.id} review={review}></ProductReview>)  : <h4>Be the first to write a review!</h4>}\n\n                </div>\n                <div className=\"productOrder\" style={{ display:\"inline-block\", width:\"30%\"}}>\n                    <ProductHeadline productDetail={detail} productRating={productRating} productPrice={detail.productPrice}></ProductHeadline>\n\n                    { userId ?\n                    <AddToCartForm productDetail={detail}></AddToCartForm> : <div><b>To order a product, please log in.</b></div>}\n                </div>\n\n            </div>\n            { userId && !userPosted ? <ProductReviewInput productDetail={detail} productId={detail.id}></ProductReviewInput>\n                     : null }\n            { !userId ?  <ProductReviewSignup></ProductReviewSignup> : null}\n        </div>\n    )\n}\n\nexport default ProductDetail;\n","import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport Figure from \"react-bootstrap/Figure\";\n\nconst ProductGrid = (props) => {\n  const bicycleList = useSelector((state) => state.bicycles.bicycleList);\n  const accessoryList = useSelector((state) => state.accessories.accessoryList);\n  const clothingList = useSelector((state) => state.clothing.clothingList);\n  const [productDetail, setProductDetail] = useState(\"\");\n  let listItemArr = [];\n  let listItemType = \"\";\n\n  switch (props.category) {\n    case \"Bicycles\": {\n      if (props.limit > 0 && bicycleList !== undefined) {\n        listItemArr = bicycleList.slice(0, props.limit);\n      } else {\n        listItemArr = bicycleList;\n      }\n      listItemType = \"bicycle\";\n      break;\n    }\n    case \"Accessories\": {\n      if (props.limit > 0 && accessoryList !== undefined) {\n        listItemArr = accessoryList.slice(0, props.limit);\n      } else {\n        listItemArr = accessoryList;\n      }\n      listItemType = \"accessory\";\n      break;\n    }\n    case \"Clothing\": {\n      if (props.limit > 0 && clothingList !== undefined) {\n        listItemArr = clothingList.slice(0, props.limit);\n       } else {\n        listItemArr = clothingList;\n      }\n\n      listItemType = \"clothing\";\n      break;\n    }\n    default:\n      return;\n  }\n\n  const handleClick = (e) => {\n    const arrIdx = e.target.id.split(\"-\")[1];\n    setProductDetail(listItemArr[arrIdx]);\n    };\n\n  if (listItemArr === undefined) {\n    return null;\n  }\n  if (productDetail) {\n    switch (listItemType) {\n      case \"Bicycles\": {\n        return (\n          <Redirect\n            to={{ pathname: \"/bicycleDetail/productDetail.id\" }}\n          ></Redirect>\n        );\n      }\n      case \"Clothing\": {\n        return (\n          <Redirect\n            to={{ pathname: \"/clothingDetail/productDetail.id\" }}\n          ></Redirect>\n        );\n      }\n      case \"Accessories\": {\n        return (\n          <Redirect\n            to={{ pathname: \"/accessoryDetail/productDetail.id\" }}\n          ></Redirect>\n        );\n      }\n      default:\n    }\n  } else {\n    return (\n      <>\n        <div>\n          <div className=\"productGrid\" onClick={handleClick}>\n            <Link\n              className=\"productItem\"\n              to={`/${listItemType}Detail/${listItemArr[0].id}`}\n              key={listItemArr[0].id}\n            >\n              <img\n                id={`${listItemType}-0`}\n                src={listItemArr[0].photoURL}\n                alt={props.category}\n              ></img>\n              <Figure.Caption>{listItemArr[0].name}</Figure.Caption>\n            </Link>\n            <Link\n              className=\"productItem\"\n              to={`/${listItemType}Detail/${listItemArr[1].id}`}\n              key={listItemArr[1].id}\n            >\n              <img\n                id={`${listItemType}-1`}\n                src={listItemArr[1].photoURL}\n                alt={props.category}\n              ></img>\n              <Figure.Caption>{listItemArr[1].name}</Figure.Caption>\n            </Link>\n            <Link\n              className=\"productItem\"\n              to={`/${listItemType}Detail/${listItemArr[2].id}`}\n              key={listItemArr[2].id}\n            >\n              <img\n                id={`${listItemType}-2`}\n                src={listItemArr[2].photoURL}\n                alt={props.category}\n              ></img>\n              <Figure.Caption>{listItemArr[2].name}</Figure.Caption>\n            </Link>\n            <Link\n              className=\"productItem\"\n              to={`/${listItemType}Detail/${listItemArr[3].id}`}\n              key={listItemArr[3].id}\n            >\n              <img\n                id={`${listItemType}-3`}\n                src={listItemArr[3].photoURL}\n                alt={props.category}\n              ></img>\n              <Figure.Caption>{listItemArr[3].name}</Figure.Caption>\n            </Link>\n            <Link\n              className=\"productItem\"\n              to={`/${listItemType}Detail/${listItemArr[4].id}`}\n              key={listItemArr[4].id}\n            >\n              <img\n                id={`${listItemType}-4`}\n                src={listItemArr[4].photoURL}\n                alt={props.category}\n              ></img>\n              <Figure.Caption>{listItemArr[4].name}</Figure.Caption>\n            </Link>\n          </div>\n        </div>\n      </>\n    );\n  }\n};\n\nexport default ProductGrid;\n","\nimport { baseUrl } from '../config';\n\nexport const SET_INVENTORY_AVAIL = 'products/selected/inventoryAvail';\nexport const SET_SELECTED_PRODUCT = 'products/selected/selectedProduct';\nexport const SET_SELECTED_PRODUCT_TYPE = 'products/selected/selectedProductType';\nexport const SET_SELECTED_PRODUCT_ID = 'products/selected/selectedProductId';\nexport const SET_COLORS_AVAIL = 'products/selected/colorsAvail';\nexport const SET_FRAMES_AVAIL = 'products/selected/framesAvail';\nexport const SET_SIZES_AVAIL = 'products/selected/sizesAvail';\nexport const SET_GENDERS_AVAIL = 'products/selected/gendersAvail';\nexport const SET_SELECTED_PRODUCT_NAME = 'products/selected/name';\nexport const SET_SELECTED_PRODUCT_PRICE = 'products/selected/price';\nexport const SET_SELECTED_PRODUCT_DESCRIPTION = 'products/selected/description';\nexport const SET_SELECTED_PRODUCT_PHOTOURL = 'products/selected/photoURL';\nexport const setSelectedProduct = selectedProduct => ({ type: SET_SELECTED_PRODUCT, selectedProduct });\nexport const setSelectedProductType = productType => ({ type: SET_SELECTED_PRODUCT_TYPE, productType });\nexport const setSelectedProductId = selectedProductId => ({ type: SET_SELECTED_PRODUCT_ID, selectedProductId});\nexport const setColorsAvail = colorsAvail => ({ type: SET_COLORS_AVAIL, colorsAvail });\nexport const setSizesAvail = sizesAvail => ({ type: SET_SIZES_AVAIL, sizesAvail });\nexport const setFramesAvail = framesAvail => ({ type: SET_FRAMES_AVAIL, framesAvail });\nexport const setGendersAvail = gendersAvail => ({ type: SET_GENDERS_AVAIL, gendersAvail });\nexport const setProductName = productName => ({type: SET_SELECTED_PRODUCT_NAME, productName });\nexport const setProductPrice = productPrice => ({ type: SET_SELECTED_PRODUCT_PRICE, productPrice });\nexport const setProductDescription = productDescription => ({ type: SET_SELECTED_PRODUCT_DESCRIPTION, productDescription });\nexport const setProductPhotoURL = photoURL => ({ type: SET_SELECTED_PRODUCT_PHOTOURL, photoURL });\nexport const setInventoryAvail = inventoryAvail => ({ type: SET_INVENTORY_AVAIL, inventoryAvail });\n//reducer\nexport default function reducer(state = {}, action) {\n    switch (action.type) {\n      case SET_SELECTED_PRODUCT: {\n          const newState = {...state};\n          newState.selectedProduct = action.selectedProduct;\n          return newState\n      };\n\n      case SET_SELECTED_PRODUCT_TYPE: {\n          const newState = {...state};\n          newState.productType = action.productType;\n          return newState;\n      }\n      case SET_SELECTED_PRODUCT_ID: {\n          const newState = {...state};\n          newState.productId = action.selectedProductId;\n          return newState;\n      }\n      case SET_COLORS_AVAIL: {\n          const newState = { ...state};\n          newState.colorsAvail = action.colorsAvail;\n          return newState;\n      }\n      case SET_FRAMES_AVAIL: {\n          const newState = {...state};\n          newState.framesAvail = action.framesAvail;\n          return newState;\n      }\n      case SET_SIZES_AVAIL: {\n          const newState = {...state};\n          newState.sizesAvail = action.sizesAvail;\n          return newState;\n      }\n      case SET_GENDERS_AVAIL: {\n          const newState = {...state};\n          newState.gendersAvail = action.gendersAvail;\n          return newState;\n      }\n      case SET_SELECTED_PRODUCT_NAME: {\n        const newState = {...state};\n        newState.name = action.productName;\n        return newState;\n      }\n    case SET_SELECTED_PRODUCT_PRICE: {\n        const newState = {...state};\n        newState.price = action.productPrice;\n        return newState;\n    }\n    case SET_SELECTED_PRODUCT_DESCRIPTION: {\n        const newState = {...state};\n        newState.description = action.productDescription;\n        return newState;\n    }\n    case SET_SELECTED_PRODUCT_PHOTOURL: {\n        const newState = {...state};\n        newState.photoURL = action.photoURL;\n        return newState;\n    }\n    case SET_INVENTORY_AVAIL: {\n        const newState = {...state};\n        newState.inventoryAvail = action.inventoryAvail;\n        return newState;\n    }\n      default:\n          return state;\n    }\n}\n\nconst objInArray = (obj, arr) => {\n\n    for (let i = 0; i < arr.length; i++) {\n        if (arr[i].value === obj.value) {\n            return true;\n        }\n    }\n    return false;\n}\n\nexport const getSelectedProductInfo = async (productId) => {\n\n\n    const response = await fetch(`${baseUrl}/inventory/${productId}`, {\n        method: 'get',\n        headers: { 'Content-Type': 'application/json' },\n    });\n    if (response.ok) {\n        const respArr = await response.json();\n        const productInfo = respArr.productInfo;\n        let tmpSizes = [];\n        let tmpColors = [];\n        let tmpGenders = [];\n        let tmpFrames = [];\n\n        for (let i = 0; i < productInfo.length; i++) {\n            if (productInfo[i].size) {\n                const sz = { value: productInfo[i].size, label: productInfo[i].size, isdisabled: false };\n                if (!objInArray(sz, tmpSizes)) {tmpSizes.push(sz)}\n            }\n            if (productInfo[i].color) {\n                const clr = { value: productInfo[i].color, label: productInfo[i].color, isdisabled: false };\n                if (!objInArray(clr, tmpColors)) { tmpColors.push(clr) }\n            }\n            if (productInfo[i].frame) {\n             const fr = { value: productInfo[i].frame, label: productInfo[i].frame, isdisabled: false };\n             if (!objInArray(fr, tmpFrames)) { tmpFrames.push(fr)}\n            }\n            if (productInfo[i].gender) {\n                const gdr = { value: productInfo[i].gender, label: productInfo[i].gender, isdisabled: false };\n                if (!objInArray(gdr, tmpGenders)) { tmpGenders.push(gdr) }\n            }\n        }\n\n        return { type: respArr.type, productId: productId, colorsAvail: tmpColors, sizesAvail: tmpSizes, framesAvail: tmpFrames, gendersAvail: tmpGenders,\n                productName: respArr.name, photoURL: respArr.photoURL, price: respArr.price, description: respArr.description, inventoryAvail: respArr.productInfo }\n\n     } else {\n        //  console.log(\"Error retrieving selected product info.\");\n        return response.status;\n     }\n}\n","import React, { useState, useEffect} from 'react';\nimport { useSelector, useDispatch} from 'react-redux'\nimport { useHistory } from 'react-router-dom';\nimport ProductGrid from './ProductGrid';\nimport Figure from 'react-bootstrap/Figure'\nimport { setSelectedProductType } from '../store/selectedProduct';\n\nconst ProductsBrowser = () => {\n\n    const [featuredBicycleURL, setFeaturedBicycleURL] = useState();\n    const [featuredClothingURL, setFeaturedClothingURL] = useState();\n    const [featuredAccessoryURL, setFeaturedAccessoryURL] = useState();\n\n    const accessoriesList = useSelector(state => state.accessories.accessoryList);\n    const bicyclesList = useSelector(state => state.bicycles.bicycleList);\n    const clothingList = useSelector(state => state.clothing.clothingList);\n    const productsSelected = useSelector(state => state.selectedProduct.productType);\n     const history = useHistory();\n     const dispatch = useDispatch();\n\n    useEffect ( () => {\n        if (bicyclesList) {\n            setFeaturedBicycleURL(bicyclesList[0].photoURL);\n        }\n        if (accessoriesList) {\n            setFeaturedAccessoryURL(accessoriesList[0].photoURL);\n        }\n        if (clothingList) {\n            setFeaturedClothingURL(clothingList[0].photoURL);\n        }\n\n    }, [bicyclesList, accessoriesList, clothingList, productsSelected]);\n\n    const handleClick = (e) => {\n        dispatch(setSelectedProductType(e.target.id));\n        switch (e.target.id) {\n            case 'Bicycles':\n                history.push({\n                    pathname: '/bicycleProducts'\n                })\n                break;\n            case 'Clothing':\n                history.push({\n                    pathname: '/clothingProducts'\n                })\n                break;\n            case 'Accessories':\n                history.push({\n                    pathname: '/accessoryProducts'\n                })\n                break;\n            default:\n                break;\n        }\n     };\n\n\n  return (\n\n            <>\n                <div className=\"productBanner\">\n                    <div className=\"photoSpread\">\n                        <div className=\"productPhoto\" onClick={handleClick} >\n                            <img id=\"Bicycles\" src={featuredBicycleURL} alt=\"Bicycle\"></img>\n                            <Figure.Caption>Bicycles</Figure.Caption>\n                        </div>\n                        <div className=\"productPhoto\" onClick={handleClick}>\n                            <img id=\"Clothing\" src={featuredClothingURL} alt=\"Clothing\"></img>\n                            <Figure.Caption>Clothing</Figure.Caption>\n                        </div>\n                        <div className=\"productPhoto\" onClick={handleClick}>\n                            <img id=\"Accessories\" src={featuredAccessoryURL} alt=\"Accessory\"></img>\n                            <Figure.Caption>Accessories</Figure.Caption>\n                        </div>\n                    </div>\n                </div>\n                <h2 style={{color:\"white\"}}>Recommended in Bicycles</h2>\n            <ProductGrid category={\"Bicycles\"} limit={5}> </ProductGrid>\n            <h2 style={{color:\"white\"}}>Recommended in Clothing</h2>\n            <ProductGrid category={\"Clothing\"} limit={5}> </ProductGrid>\n            <h2 style={{color:\"white\"}}>Recommended in Accessories</h2>\n            <ProductGrid category={\"Accessories\"} limit={5}></ProductGrid>\n            </>\n\n\n    )};\n\nexport default ProductsBrowser;\n","import { baseUrl } from '../config'\n\n\nexport const SET_ACCESSORY_LIST = 'products/accessory/accessoryList';\nexport const SET_ACCESSORY_DETAIL = 'products/accessory/accessoryDetail';\nexport const SET_ACCESSORY_LOADED = 'products/accessory/accessoryLoaded'\nexport const SET_ACCESSORY_URL = 'products/accessory/accessoryURL';\n\n//actions\nexport const setAccessoryList = accessoryList => ({ type: SET_ACCESSORY_LIST, accessoryList });\nexport const setAccessoryDetail = accessoryDetail => ({ type: SET_ACCESSORY_DETAIL, accessoryDetail });\nexport const setAccessoriesLoaded = accessoriesLoaded => ({ type: SET_ACCESSORY_LOADED, accessoriesLoaded });\nexport const setAccessoryURL = (url) => ({ type: SET_ACCESSORY_URL, url});\n\n//reducer\nexport default function reducer(state = {}, action) {\n    switch (action.type) {\n        case SET_ACCESSORY_URL: {\n            const newState = {...state};\n            newState.accessoryURL = action.url;\n            return newState;\n        }\n      case SET_ACCESSORY_LIST: {\n          const newState = {...state};\n          newState.accessoryList = action.accessoryList;\n          return newState\n      };\n      case SET_ACCESSORY_DETAIL: {\n          const newState = {...state};\n          newState.accessoryDetail = action.accessoryDetail;\n          return newState;\n      }\n      case SET_ACCESSORY_LOADED : {\n          const newState = { ...state};\n          newState.accessoriesLoaded = action.accessoriesLoaded;\n          return newState;\n      }\n      default:\n          return state;\n    }\n};\n\nexport const fetchAccessoriesList = async() => {\n\n    try {\n        const response = await fetch(`${baseUrl}/accessories/accessoriesList`, {\n            method: 'get',\n            headers: { 'Content-Type': 'application/json' },\n        });\n        if (response.ok) {\n            return await response.json();\n\n        } else {\n            throw response.status;\n        }\n    } catch (e) {\n        // console.log(\"AccessoriesList fetch error: \", e);\n    }\n}\n","import { baseUrl } from '../config'\n\nexport const SET_BICYCLE_LIST = 'products/bicycles/bicycleList';\nexport const SET_BICYCLE_DETAIL = 'products/bicycles/bicycleDetail';\nexport const SET_BICYCLE_URL = 'products/bicycle/bicycleURL';\n\n\n//actions\nexport const setBicycleList = bicycleList => ({ type: SET_BICYCLE_LIST, bicycleList });\nexport const setBicycleDetail = bicycleId => ({ type: SET_BICYCLE_DETAIL, bicycleId });\nexport const setBicycleURL = (url) => ({ type: SET_BICYCLE_URL, url});\n\n\n\n//reducer\nexport default function reducer(state = {}, action) {\n    switch (action.type) {\n        case SET_BICYCLE_URL: {\n            const newState = {...state};\n            newState.bicycleURL = action.url;\n            return newState;\n        }\n        case SET_BICYCLE_LIST: {\n            const newState = {...state};\n            newState.bicycleList = action.bicycleList;\n            return newState\n        };\n        case SET_BICYCLE_DETAIL: {\n            const newState = {...state};\n            newState.bicycleDetail = action.bicycleId;\n            return newState;\n        };\n        default:\n            return state;\n    }\n};\n\nexport const fetchBicyclesList = async() => {\n\n        try {\n            const response = await fetch(`${baseUrl}/bicycles/bicyclesList`, {\n                method: 'get',\n                headers: { 'Content-Type': 'application/json' },\n            });\n            if (response.ok) {\n                 return await response.json();\n\n            } else {\n                throw response.status;\n            }\n        } catch (e) {\n            // console.log(\"BicyclesList fetch error: \", e);\n        }\n}\n","import { baseUrl } from '../config'\n\n\nexport const SET_CLOTHING_LIST = 'products/Clothing/clothingList';\nexport const SET_CLOTHING_DETAIL = 'products/Clothing/clothingDetail';\nexport const SET_CLOTHING_LOADED = 'products/Clothing/clothingLoaded';\nexport const SET_CLOTHING_URL = 'products/clothing/clothingURL';\n\n//actions\nexport const setClothingList = clothingList => ({ type: SET_CLOTHING_LIST, clothingList });\nexport const setClothingDetail = clothingDetail => ({ type: SET_CLOTHING_DETAIL, clothingDetail });\nexport const setClothingLoaded = clothingLoaded => ({ type: SET_CLOTHING_LOADED, clothingLoaded});\nexport const setClothingURL = (url) => ({ type: SET_CLOTHING_URL, url});\n\n//reducer\nexport default function reducer(state = {}, action) {\n    switch (action.type) {\n      case SET_CLOTHING_LIST: {\n          const newState = {...state};\n          newState.clothingList = action.clothingList;\n          return newState\n      };\n      case SET_CLOTHING_URL: {\n        const newState = {...state};\n        newState.clothingURL = action.url;\n        return newState;\n      }\n      case SET_CLOTHING_DETAIL: {\n          const newState = {...state};\n          newState.clothingDetail = action.clothingDetail;\n          return newState;\n      }\n      case SET_CLOTHING_LOADED: {\n          const newState = {...state};\n          newState.clothingLoaded = action.clothingLoaded;\n          return newState;\n      }\n      default:\n          return state;\n    }\n};\n\nexport const fetchClothingList = async() => {\n\n        try {\n            const response = await fetch(`${baseUrl}/clothing/clothingList`, {\n                method: 'get',\n                headers: { 'Content-Type': 'application/json' },\n            });\n            if (response.ok) {\n                return await response.json();\n\n            } else {\n                throw response.status;\n            }\n        } catch (e) {\n            // console.log(\"clothingList fetch error: \", e);\n        }\n\n}\n","import React from 'react';\nimport {useHistory} from 'react-router-dom';\n\nconst LogInOrSignUp = ({props}) => {\n    const history = useHistory();\n    const handleLogin = (e) => {\n        e.preventDefault();\n        history.push({pathname: '/users/login'});\n    }\n\n    const handleSignUp = (e) => {\n        e.preventDefault();\n        history.push({pathname: '/users/signup'});\n\n    }\n\n    return(\n        <>\n            <div className=\"centerDiv\" >\n                <form className=\"loginOrSignUp\" >\n                    <h3>Already have an account? </h3>\n                    <button style={{border: \"2px solid black\"}} id=\"login\" onClick={handleLogin}>Login</button>\n\n                    <h3>Sign up?</h3>\n                    <button style={{border: \"2px solid black\"}} id=\"signUp\" onClick={handleSignUp}>SignUp</button>\n                </form>\n            </div>\n\n        </>\n    )\n};\n\n\nexport default LogInOrSignUp;\n","import React from 'react';\nimport { useLocation } from \"react-router-dom\"\n\nconst OrderConfirmation = () => {\n    const location = useLocation();\n    const size = location.state.size;\n    const color = location.state.color;\n    const frame = location.state.frame;\n    const type = location.state.type;\n    const gender = location.state.gender;\n    const price = location.state.price;\n    const photoUrl = location.state.photoUrl;\n    const name = location.state.name;\n\n    return (\n        <>\n            <h1>Congratulations!  Your order has been placed.</h1>\n            <h2>{name}</h2>\n            <img src={photoUrl} style={{height:\"20%\"}} alt=\"product\"></img>\n            <p>{price}</p>\n            <div>\n\n                <h2>Order details:</h2>\n                <ul>\n                    { size ? <li>Size: {size}</li>: null }\n                    { color ? <li>Color: {color}</li>: null }\n                    { frame ? <li>Frame: {frame} </li>: null }\n                    { gender ? <li>Gender: {gender}</li> : null }\n                    { type ? <li>Type:  {type}</li>: null }\n                    { price ? <li>Price: {price}</li> : null }\n                </ul>\n\n\n            </div>\n        </>\n    )\n}\n\nexport default OrderConfirmation;\n","import React from 'react';\n\nconst OrderDetail = (props) => {\n    return (\n        <div>\n            <h1>OrderDetail ... should be a protected route</h1>\n        </div>\n    );\n}\n\nexport default OrderDetail;\n","import React, { useEffect} from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';  //set font-size to medium or large\nimport Badge from '@material-ui/core/Badge';\nimport HomeIcon from '@material-ui/icons/Home';\nimport { setSelectedProductType } from '../store/selectedProduct';\nimport { TOKEN_KEY, removeToken, setUserId, getAvatarURL, setAvatarURL, removeAvatarURL, getUserName, setUserName, removeUserName, removeUserId, removeUserEmail, removeBadgeCount, setBadgeCount, getBadgeCount } from '../store/authentication';\n\nconst NavBar = () => {\n    const dispatch = useDispatch();\n\n    // const name = useSelector(state => state.authentication.name);\n    const avatarURL = useSelector(state => state.authentication.avatarURL);\n    const token = useSelector(state => state.authentication.token);\n    const userId = useSelector(state => state.authentication.userId);\n    const name = useSelector(state => state.authentication.name);\n    const badgeCount = useSelector(state => state.authentication.badgeCount);\n    const history = useHistory();\n\n\n    useEffect( () => {\n        if (!userId) {\n            const uid = window.localStorage.getItem(\"userId\");\n            dispatch(setUserId(uid));\n        }\n        //eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [userId] )\n\n\nuseEffect( () => {\n    (async() => {\n        if (userId) {\n            let bc = await getBadgeCount(userId);\n            dispatch(setBadgeCount(bc));\n        }\n    })();\n}, [badgeCount, dispatch, userId]);\n\nuseEffect( () => {\n    if (userId) {\n    (async() => {\n        if (userId) {\n            let url = await getAvatarURL(userId);\n            dispatch(setAvatarURL(url));\n        }\n    })();\n} else {\n    // console.log(\"NavBar:  Error:  No userId!\");\n}\n\n}, [userId, avatarURL, dispatch]);\n\nuseEffect( () => {\n    if (userId) {\n    (async() => {\n        if (userId) {\n            let name = await getUserName(userId);\n            dispatch(setUserName(name));\n        }\n    })();\n} else {\n    // console.log(\"NavBar:  Error:  No userId!\");\n}\n\n}, [userId, name, dispatch]);\n\n    const handleSignIn = (e) => {\n        if (!token) {\n            e.preventDefault();\n            history.push('/users/logInOrSignUp');\n        } else {\n\n            dispatch(removeToken());\n            dispatch(removeAvatarURL());\n            dispatch(removeUserName());\n            dispatch(removeUserEmail());\n            dispatch(removeUserId());\n            dispatch(removeBadgeCount());\n\n            window.localStorage.removeItem(TOKEN_KEY);\n            window.localStorage.removeItem(\"userId\");\n            window.localStorage.removeItem(\"/user/authentication/token\");\n            history.push('/');\n        }\n    }\n\n    const handleHomeClick = (e) => {\n        e.preventDefault();\n        setSelectedProductType('');\n        history.push('/');\n    }\n\n    const handleCartClick = (e) => {\n        e.preventDefault();\n        history.push('/cartForm');\n    }\n\n    return (\n        <div style={{display:\"inline-flex\", justifyContent:\"space-between\", width:\"100%\", borderBottom:\"2px solid white\"}}>\n             <div className=\"homeShoppingCartIcon\" >\n                        <HomeIcon className=\"homeIcon\"  onClick={handleHomeClick}style={{margin:\"10px\", color: \"white\", fontSize:\"40px\"}}></HomeIcon>\n                        <Badge className={\"shoppingCartIcon\"} onClick={handleCartClick} badgeContent={badgeCount} color=\"secondary\" >\n                            <ShoppingCartIcon style={{ color: \"white\", fontSize:\"40px\"}}></ShoppingCartIcon>\n                        </Badge>\n                    </div>\n                    <div style={{width:\"30%\"}}>\n                        <label className=\"logoFont\" >CF Riders</label>\n                    </div>\n                    <div className=\"avatar-container\">\n                         <button className=\"signInButton\"  onClick={handleSignIn}>{token ? \"SignOut\" : \"SignIn\"}</button>\n                        { avatarURL ?\n                            <img src={avatarURL} className=\"main-profile-img avatar\" alt=\"avatar\"/> :  <img src={\"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png\"} className=\"main-profile-img avatar\" alt=\"avatar\"/> }\n                        <div style={{display:\"block\"}}>\n                        { name ? <h4 style={{marginBottom: \"0\"}}>Welcome</h4> : null }\n                        { name ? <h4 style={{marginTop: \"0\"}}>{name}!</h4> : null }\n                        </div>\n                    </div>\n            </div>\n    )\n                        }\n\n\n\nexport default NavBar;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport Figure from 'react-bootstrap/Figure';\nimport { Link } from 'react-router-dom';\n\nconst BicycleProducts = () => {\n    const bicycleArr = useSelector(state => state.bicycles.bicycleList);\n    if (bicycleArr) {\n        return (\n            <>\n                <div className=\"productGrid\">\n                    {bicycleArr.map( (item) => {\n                        const id = item.id;\n                        const name = item.name;\n                        const photoURL = item.photoURL;\n                        const price = item.price.toFixed(2);\n                        return (\n\n                            <Link style={{ textDecoration: 'none' }} className=\"productItem\" to={`/bicycleDetail/${id}`} key={id}>\n                                <img id={item.id} key={id} src={photoURL} alt={\"Bicycles\"}></img>\n                                <Figure.Caption>{name}</Figure.Caption>\n                                <span className=\"price\">${price}</span>\n                            </Link>\n                        )\n                    })}\n                </div>\n            </>\n        );\n\n        } else {\n            return <h1>Loading ... </h1>\n        }\n}\n\nexport default BicycleProducts;\n","import React, { useState, useEffect } from 'react';\nimport {  useSelector  } from 'react-redux';\nimport { useLocation } from 'react-router-dom'\nimport ProductDetail from '../product/ProductDetail';\nimport { getSelectedProductInfo } from '../store/selectedProduct';\nimport { baseUrl } from '../config';\n\nconst BicycleDetail = () => {\n    const location = useLocation()\n    const productId = location.pathname.slice(15);\n    const userId = useSelector(state => state.authentication.userId);\n    const [detail, setDetail] = useState(undefined);\n    const [userPosted, setUserPosted] = useState(undefined);\n    const [productRating, setProductRating] = useState(undefined);\n    const [userReviews, setUserReviews] = useState(undefined);\n\n    useEffect(() => {\n        if (!productId) return;\n\n        //Get selected product information\n        (async() => {\n            const productInfo = await getSelectedProductInfo(productId)\n            setDetail(productInfo);\n        })();\n\n        //get product rating\n        (async() => {\n            const response = await fetch(`${baseUrl}/reviewsRatings/rating/${productId}`);\n            if (response.ok) {\n                const resp = await response.json();\n                setProductRating(resp.averageRating);\n            } else {\n                // console.log(\"BicycleDetail: : Errors fetching avgRating\");\n            }\n        })();\n\n        //get product review\n        (async() => {\n            const response = await fetch(`${baseUrl}/reviewsRatings/reviews/${productId}`);\n\n            if (response.ok) {\n                const resp = await response.json();\n                const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n                for (let i = 0; i < resp.reviews.length; i++) {\n                    const dateString = resp.reviews[i].postDate;\n                    const event = new Date(dateString);\n                    const newDateStr = event.toLocaleDateString(undefined, options)\n                    resp.reviews[i].postDate = newDateStr;\n                }\n                const reviews = resp.reviews;\n\n                setUserReviews(reviews);\n            } else {\n                // console.log(\"BicycleDetail: :  Errors fetching user reviews...\");\n            }\n        })();\n    }, [productId])\n\n    useEffect(() => {\n        if (!productId || !userId) return;\n        (async() => {\n            const response = await fetch(`${baseUrl}/reviewsRatings/reviews/${userId}/${productId}`);\n            response.ok ? setUserPosted(false) : setUserPosted(true);\n        })();\n    }, [productId, userId])\n\n    if (!detail ) {\n        return ( <h2>Loading...</h2>)\n    } else {\n    return ( <ProductDetail detail={detail} userPosted={userPosted} productRating={productRating} userReviews={userReviews} /> )\n    }\n}\n\nexport default BicycleDetail;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport Figure from \"react-bootstrap/Figure\";\nimport { Link } from \"react-router-dom\";\n\nconst ClothingProducts = () => {\n  const clothingArr = useSelector((state) => state.clothing.clothingList);\n  if (clothingArr) {\n    return (\n      <>\n        <div className=\"productGrid\">\n          {clothingArr.map((item) => {\n            const id = item.id;\n            const name = item.name;\n            const photoURL = item.photoURL;\n            const price = item.price.toFixed(2);\n            return (\n              <Link\n                style={{textDecoration: \"none\" }}\n                className=\"productItem\"\n                to={`/clothingDetail/${id}`}\n                key={id}\n              >\n                <img\n                  id={item.id}\n                  key={id}\n                  src={photoURL}\n                  alt={\"Clothing\"}\n                ></img>\n                <Figure.Caption style={{marginTop: \"-5px\"}}>{name}</Figure.Caption>\n                <span className=\"price\">${price}</span>\n              </Link>\n            );\n          })}\n        </div>\n      </>\n    );\n  } else {\n    return <h1>Loading ... </h1>;\n  }\n};\n\nexport default ClothingProducts;\n","import React, { useState, useEffect } from 'react';\nimport {  useSelector  } from 'react-redux';\nimport { useLocation } from 'react-router-dom'\nimport ProductDetail from '../product/ProductDetail';\nimport { getSelectedProductInfo } from '../store/selectedProduct';\nimport { baseUrl } from '../config';\n\nconst ClothingDetail = () => {\n    const location = useLocation()\n    const productId = location.pathname.slice(16);\n    const userId = useSelector(state => state.authentication.userId);\n    const [detail, setDetail] = useState(undefined);\n    const [userPosted, setUserPosted] = useState(undefined);\n    const [productRating, setProductRating] = useState(undefined);\n    const [userReviews, setUserReviews] = useState(undefined);\n\n    useEffect(() => {\n        if (!productId) return;\n\n        //Get selected product information\n        (async() => {\n            const productInfo = await getSelectedProductInfo(productId)\n            setDetail(productInfo);\n        })();\n\n        //get product rating\n        (async() => {\n            const response = await fetch(`${baseUrl}/reviewsRatings/rating/${productId}`);\n            if (response.ok) {\n                const resp = await response.json();\n                setProductRating(resp.averageRating);\n            } else {\n                //  console.log(\"ClothingDetail: : Errors fetching avgRating\");\n            }\n        })();\n\n        //get product review\n        (async() => {\n            const response = await fetch(`${baseUrl}/reviewsRatings/reviews/${productId}`);\n            if (response.ok) {\n                const resp = await response.json();\n                const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n                for (let i = 0; i < resp.reviews.length; i++) {\n                    const dateString = resp.reviews[i].postDate;\n                    const event = new Date(dateString);\n                    const newDateStr = event.toLocaleDateString(undefined, options)\n                    resp.reviews[i].postDate = newDateStr;\n                }\n                const reviews = resp.reviews;\n\n                 setUserReviews(reviews);\n            } else {\n                //  console.log(\"ClothingDetail: :  Errors fetching user reviews...\");\n            }\n        })();\n    }, [productId])\n\n    useEffect(() => {\n        if (!productId || !userId) return;\n        (async() => {\n            const response = await fetch(`${baseUrl}/reviewsRatings/reviews/${userId}/${productId}`);\n            response.ok ? setUserPosted(false) : setUserPosted(true);\n        })();\n    }, [productId, userId])\n\n    if (!detail ) {\n        return ( <h2>Loading...</h2>)\n    } else {\n    return ( <ProductDetail detail={detail} userPosted={userPosted} productRating={productRating} userReviews={userReviews} /> )\n    }\n}\n\nexport default ClothingDetail;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport Figure from 'react-bootstrap/Figure';\nimport { Link } from 'react-router-dom';\n\nconst AccessoryProducts = () => {\n    const accessoryArr = useSelector(state => state.accessories.accessoryList);\n    if (accessoryArr) {\n        return (\n            <>\n                <div className=\"productGrid\">\n                    {accessoryArr.map( (item) => {\n                        const id = item.id;\n                        const name = item.name;\n                        const photoURL = item.photoURL;\n                        const price = item.price.toFixed(2);\n                        return (\n\n                            <Link style={{ textDecoration: 'none' }} className=\"productItem\" to={`/accessoryDetail/${id}`} key={id}>\n                                <img id={item.id} key={id} src={photoURL} alt={\"Accessories\"}></img>\n                                <Figure.Caption style={{marginTop:\"-5px\"}}>{name}</Figure.Caption>\n                                <span className=\"price\">${price}</span>\n                            </Link>\n                        )\n                    })}\n                </div>\n            </>\n        );\n\n        } else {\n            return <h1>Loading ... </h1>\n        }\n}\n\nexport default AccessoryProducts;\n","import React, { useState, useEffect } from 'react';\nimport {  useSelector  } from 'react-redux';\nimport { useLocation } from 'react-router-dom'\nimport ProductDetail from '../product/ProductDetail';\nimport { getSelectedProductInfo } from '../store/selectedProduct';\nimport { baseUrl } from '../config';\n\nconst AccessoryDetail = () => {\n    const location = useLocation()\n    const productId = location.pathname.slice(17);\n    const userId = useSelector(state => state.authentication.userId);\n    const [detail, setDetail] = useState(undefined);\n    const [userPosted, setUserPosted] = useState(undefined);\n    const [productRating, setProductRating] = useState(undefined);\n    const [userReviews, setUserReviews] = useState(undefined);\n\n    useEffect(() => {\n        if (!productId) return;\n\n        //Get selected product information\n        (async() => {\n            const productInfo = await getSelectedProductInfo(productId)\n            setDetail(productInfo);\n        })();\n\n        //get product rating\n        (async() => {\n            const response = await fetch(`${baseUrl}/reviewsRatings/rating/${productId}`);\n            if (response.ok) {\n                const resp = await response.json();\n                setProductRating(resp.averageRating);\n            } else {\n                // console.log(\"AccessoryDetail: : Errors fetching avgRating\");\n            }\n        })();\n\n        //get product review\n        (async() => {\n            const response = await fetch(`${baseUrl}/reviewsRatings/reviews/${productId}`);\n\n            if (response.ok) {\n                const resp = await response.json();\n                const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n                for (let i = 0; i < resp.reviews.length; i++) {\n                    const dateString = resp.reviews[i].postDate;\n                    const event = new Date(dateString);\n                    const newDateStr = event.toLocaleDateString(undefined, options)\n                    resp.reviews[i].postDate = newDateStr;\n                }\n                const reviews = resp.reviews;\n                setUserReviews(reviews);\n            } else {\n                // console.log(\"AccessoryDetail: :  Errors fetching user reviews...\");\n            }\n        })();\n    }, [productId])\n\n    useEffect(() => {\n        if (!productId || !userId) return;\n        (async() => {\n            const response = await fetch(`${baseUrl}/reviewsRatings/reviews/${userId}/${productId}`);\n            response.ok ? setUserPosted(false) : setUserPosted(true);\n            })();\n    }, [productId, userId])\n\n    if (!detail ) {\n        return ( <h2>Loading...</h2>)\n    } else {\n    return ( <ProductDetail detail={detail} userPosted={userPosted} productRating={productRating} userReviews={userReviews} /> )\n    }\n}\n\nexport default AccessoryDetail;\n","import { baseUrl } from '../config'\n\n//constants\nexport const SET_CART_LIST = 'cart/setCartList';\nexport const REMOVE_CART_LIST = 'cart/removeCartList';\nexport const SET_CART_LIST_TOTAL = 'cart/setCartListTotal';\nexport const REMOVE_CART_LIST_TOTAL = 'cart/removeCartListTotal';\n\n//actions\nexport const setCartList = cartList => ({ type: SET_CART_LIST, cartList });\nexport const removeCartList = () => ({ type: REMOVE_CART_LIST });\nexport const setCartListTotal = total => ({ type: SET_CART_LIST_TOTAL, total });\nexport const removeCartListTotal = () => ({ type: REMOVE_CART_LIST_TOTAL });\n\n//reducer\nexport default function reducer(state = {}, action) {\n    switch (action.type) {\n      case SET_CART_LIST: {\n          const newState = {...state};\n          newState.cartList = action.cartList;\n          return newState\n      };\n      case REMOVE_CART_LIST: {\n          const newState = {...state};\n          delete newState.cartList;\n          return newState;\n      };\n      case SET_CART_LIST_TOTAL: {\n          const newState = { ...state};\n          newState.cartListTotal = action.total;\n          return newState;\n      }\n      case REMOVE_CART_LIST_TOTAL: {\n          const newState = { ...state};\n          delete newState.cartListTotal;\n          return newState;\n      }\n      default:\n          return state;\n    }\n};\n\nexport const fetchCartList = async(userId) => {\n\n    try {\n        const response = await fetch(`${baseUrl}/carts/userId`, {\n            method: 'get',\n            headers: { 'Content-Type': 'application/json' },\n        });\n        if (response.ok) {\n            return await response.json();\n        } else {\n            throw response.status;\n        }\n    } catch (e) {\n        // console.log(\"CartList fetch error: \", e);\n    }\n}\n\nexport const addCartItem = async(userId, inventoryId, quantity) => {\n    try {\n        const response = await fetch(`${baseUrl}/carts/`, {\n            method: \"post\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({\n                userId: userId,\n                inventoryId: inventoryId,\n                quantity: 1\n            })})\n            if (response.ok) {\n                const retVal = response.json();\n                return retVal;\n            } else {\n                // console.log(\"cart fetch:  failed to add new cart item.\")\n            }\n        } catch (e) {\n            // console.log(\"cart fetch: failed to create new cart item.  \", e);\n        }\n    }\nexport const orderCartItems = async(userId) => {\n    try {\n        const response = await fetch(`${baseUrl}/order/orderCart/${userId}`, {\n        method: \"post\",\n        headers: { \"Content-Type\": \"application/json\"}});\n        if (!response.ok) {\n            // console.log(\"Failed to place order from cart!\")\n        }\n    } catch (e) {\n        // console.log(\"Failed to place order.  \", e);\n    }\n}\n\n\n\nexport const removeCartItem = async(userId, cartId, inventoryId) => {\n    try {\n        const response = await fetch(`${baseUrl}/carts/removeCartItem/${cartId}`, {\n            method: \"post\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({\n                userId: userId,\n                quantity: 1,\n                inventoryId: inventoryId,\n            })})\n            if (response.ok) {\n                const updatedCart = await response.json();\n                return updatedCart;\n            } else {\n                // console.log(\"Failed to delete cartItem.  Response: \", response.status);\n            }\n    } catch (e) {\n\n    }\n}\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setCartList, removeCartItem, setCartListTotal } from '../store/cart';\n\nconst CartItem = ({item, index}) => {\n    const dispatch = useDispatch();\n\n    const removeItem = async(e) => {\n        const newCartList = await removeCartItem(item.userId, item.cartId, item.inventoryId);\n        let ncl = 0;\n        for (let i = 0; i < newCartList.length; i++) {\n            ncl += newCartList[i].price;\n\n        }\n        dispatch(setCartList(newCartList));\n        dispatch(setCartListTotal(ncl));\n    }\n\n    return (\n        <div key={index} style={{display: \"flex\", borderTop:\"1px solid white\",marginBottom: \"20px\"}}>\n\n                    <img src={item.photoUrl} className={\"cartItem\"} style={{height:\"10%\", marginTop:\"15px\"}} alt=\"product\"></img>\n\n                    <div style={{ width: \"20%\"}}>\n                        <ul>\n                            { item.description ? <li>Description: {item.description}</li> : null }\n                            { item.size ? <li>Size: {item.size}</li>: null }\n                            { item.color ? <li>Color: {item.color}</li>: null }\n                            { item.frame ? <li>Frame: {item.frame} </li>: null }\n                            { item.gender ? <li>Gender: {item.gender}</li> : null }\n                            { item.type ? <li>Type:  {item.type}</li>: null }\n                        </ul>\n                    </div>\n\n                    <button onClick={removeItem} style={{border: \"2px solid black\", color: \"black\", width: \"150px\", marginLeft: \"20px\", marginTop: \"10px\"}}>Remove from Cart</button>\n                    <div style={{display: \"flex\", marginLeft: \"100px\", marginTop: \"20px\", alignItems: \"flex-start\"}}>Price: ${Number(parseFloat(item.price).toFixed(2)).toLocaleString('en', {minimumFractionDigits : 2})}</div>\n        </div>\n    )\n}\n\nexport default CartItem;\n","import React, { useEffect, useState } from 'react';\n//import { useHistory } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Button } from 'react-bootstrap';\nimport { baseUrl } from '../config';\nimport CartItem from './CartItem';\nimport { setCartList, setCartListTotal, orderCartItems, removeCartList, removeCartListTotal } from '../store/cart';\nimport { setBadgeCount } from '../store/authentication';\n\n\nconst CartForm = () => {\n\nconst userId = useSelector(state => state.authentication.userId);\nconst userName = useSelector(state => state.authentication.name);\nconst cartList = useSelector(state => state.cart.cartList);\nconst totalCartList = useSelector(state => state.cart.cartListTotal);\nconst dispatch = useDispatch();\nconst [orderPlaced, setOrderPlaced] = useState(false);\n\nuseEffect( () => {\n    if (userId) {\n\n        (async() => {\n            const response = await fetch(`${baseUrl}/carts/${userId}`);\n            if (response.ok) {\n                const cl = await response.json();\n                dispatch(setCartList(cl.cartList));\n                let tcl = 0\n                for (let i = 0; i < cl.cartList.length; i++) {\n                    tcl += cl.cartList[i].price;\n                }\n                dispatch(setCartListTotal((Number(parseFloat(tcl).toFixed(2)).toLocaleString('en', {minimumFractionDigits : 2}))));\n            } else {\n                // console.log(\"CartList:  Failed fetch cart items\");\n            }\n            })();\n    } else {\n        // console.log(\"CartList:  Cannot fetch cart - No userId!\");\n    }\n}, [userId, dispatch, totalCartList])\n\nconst buttonClickHandler = (e) => {\n    orderCartItems(userId);\n    dispatch(removeCartList());\n    dispatch(removeCartListTotal());\n    setOrderPlaced(true);\n    dispatch(setBadgeCount(0));\n}\n\n\nif (!userId) {\n    return ( <h2>Loading...</h2>)\n} else if (orderPlaced) {\n    return<h2>Your order has been placed!</h2>\n}\nelse if (!cartList) {\n    return (<h2>No items in your cart ...</h2>)\n} else {\n    return (\n\n        <div style={{display: \"inline-block\"}}>\n            <div style={{borderBottom:\"1px solid white\"}}>\n                <h2>Shopping Cart</h2>\n                <h2>{userName}</h2>\n            </div>\n            { cartList && cartList.length > 0 ?\n            <div style={{display: \"flex\"}}>\n                <h3>Your cart total:  ${totalCartList}</h3>\n                <Button onClick={buttonClickHandler} style={{height:\"30px\", width:\"160px\", borderRadius:\"2px solid black\", marginTop:\"10px\", marginBottom: \"10px\", marginLeft: \"60px\", color:\"black\", border:\"2px solid black\" }}>Place order now!</Button>\n            </div>\n            : null }\n\n            { cartList && cartList.length > 0 ? cartList.map((item, index) => { return <CartItem item={item} index={index}></CartItem>})\n            : <h2>No items in your cart</h2> }\n        </div>\n    );\n}\n}\n\nexport default CartForm;\n","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\nimport SignUp from './auth/SignUp';\nimport LoginPanel from './auth/LoginPanel';\nimport AddToCartForm from './cart/AddToCartForm';\nimport ProductDetail from './product/ProductDetail';\nimport ProductsBrowser from './product/ProductsBrowser';\nimport { loadToken } from './store/authentication';\nimport { fetchAccessoriesList, setAccessoryList } from './store/accessories';\nimport {fetchBicyclesList, setBicycleList} from './store/bicycles';\nimport {fetchClothingList, setClothingList} from './store/clothing';\nimport LogInOrSignUp from './auth/LogInOrSignUp';\nimport OrderConfirmation from './order/OrderConfirmation';\nimport OrderDetail from './order/OrderDetail';\nimport NavBar from './navigation/NavBar';\nimport BicycleProducts from './bicycles/bicycleProducts';\nimport BicycleDetail from './bicycles/bicycleDetail';\nimport ClothingProducts from './clothing/clothingProducts';\nimport ClothingDetail from './clothing/clothingDetail';\nimport AccessoryProducts from './accessories/accessoryProducts';\nimport AccessoryDetail from './accessories/accessoryDetail';\nimport CartForm from './cart/CartForm';\n\nconst PrivateRoute = ({component: Component, ...rest}) => {\n  return (<Route render={(props) => {\n    return (\n      rest.needLogin === true? <Redirect to='/users/login' />\n      : <Component {...props}/>\n    );\n  }}/>);\n}\nconst App = () => {\n  const token = useSelector(state => state.authentication.token);\n  const [loaded, setLoaded] = useState(false);\n  const dispatch = useDispatch();\n  const needLogin = !token;\n\n  useEffect(() => {\n    setLoaded(true);\n    dispatch(loadToken());\n    (async () => {\n      const responseAccy = await fetchAccessoriesList();\n      dispatch(setAccessoryList(responseAccy.accessoriesList));\n      const responseBike = await fetchBicyclesList();\n      dispatch(setBicycleList(responseBike.bicyclesList));\n      const responseClothing = await fetchClothingList();\n      dispatch(setClothingList(responseClothing.clothingList));\n    })();\n    //eslint-disable-next-line react-hooks/exhaustive-deps\n  },[]);\n\n  if (!loaded ) {\n    return null;\n  }\n\n  return (\n    <BrowserRouter>\n      <NavBar></NavBar>\n      <Switch>\n        <Route\n          path=\"/users/login\"\n          render={(props) => (\n            <LoginPanel {...props} />\n          )}\n          />\n          <Route\n            path=\"/orderConfirmation\"\n            render= { (props) => (\n              <OrderConfirmation props={props}></OrderConfirmation>)}\n          />\n          <Route\n            path=\"/users/logInOrSignUp\"\n            render={ (props) => (\n              <LogInOrSignUp {...props} />\n              )}\n              />\n        <Route\n          path=\"/users/signup\"\n          render={(props) => (\n            <SignUp {...props} />\n          )}\n          />\n            <Route\n              path=\"/products\"\n              render={(props) => (\n                <ProductsBrowser {...props}/>\n              )}\n            />\n              <Route\n                path=\"/bicycleProducts\"\n                exact\n                component={BicycleProducts}\n                />\n                <Route\n                  path=\"/bicycleDetail/:id\"\n                  component={BicycleDetail}\n                />\n                <Route\n                path=\"/clothingProducts\"\n                exact\n                component={ClothingProducts}\n                />\n                <Route\n                  path=\"/clothingDetail/:id\"\n                  component={ClothingDetail}\n                />\n                 <Route\n                path=\"/accessoryProducts\"\n                exact\n                component={AccessoryProducts}\n                />\n                <Route\n                  path=\"/accessoryDetail/:id\"\n                  component={AccessoryDetail}\n                />\n              <Route\n                  path=\"/productDetail\"\n                  render={(props) => (\n                    <ProductDetail {...props} />\n                  )}\n                />\n                <PrivateRoute\n                    path=\"/addToCartForm\"\n                    exact={true}\n                    needLogin={needLogin}\n                    component={AddToCartForm}\n                  />\n                <PrivateRoute\n                  path='/cartForm'\n                  exact={true}\n                  needLogin={needLogin}\n                  component={CartForm}\n                  />\n              <PrivateRoute\n                path=\"/order\"\n                exact={true}\n                needLogin={needLogin}\n                component={OrderDetail}\n                />\n            {/* </ProductInfoContext.Provider> */}\n            <Route\n            path=\"/\"\n            render={(props) => (\n              <ProductsBrowser {...props} />\n            )}\n          ></Route>\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React, { useState, useEffect }  from 'react';\n\nimport UserContext from './UserContext';\nimport App from './App';\n\nconst AppWithContext = (props) => {\n    const [token, setToken] = useState('');\n    useEffect(() => {\n      (async() => {\n        const localToken = window.localStorage.getItem(\"token\");\n        if (localToken) {\n           setToken(localToken);\n        }\n      })();\n    }, [setToken]);\n\n    const needLogin = !token;\n\n    const value = {\n        token,\n        setToken,\n        needLogin\n    }\n\n    return (\n        <UserContext.Provider value={value}>\n            <App />\n        </UserContext.Provider>\n    );\n};\n\nexport default AppWithContext;\n","import { createStore, applyMiddleware, combineReducers, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport authentication from './authentication';\nimport accessories from './accessories';\nimport bicycles from './bicycles';\nimport clothing from './clothing';\nimport selectedProduct from './selectedProduct';\nimport cart from './cart';\n\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst reducer = combineReducers({\n  authentication,\n  clothing,\n  bicycles,\n  accessories,\n  cart,\n  selectedProduct\n});\n\nconst configureStore = initialState => {\n  return createStore(\n    reducer,\n    initialState,\n    composeEnhancers(applyMiddleware(thunk)),\n  );\n};\n\nexport default configureStore;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport AppWithContext from './AppWithContext';\nimport configureStore from './store/configureStore';\nimport { Provider } from 'react-redux';\n\nconst store = configureStore();\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <AppWithContext />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}